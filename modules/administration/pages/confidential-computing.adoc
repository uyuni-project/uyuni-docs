[[confidental_computing]]
= Confidental Computing 

== DEFINITION

CCA is...

Confidential Compute Attestation depends on the used hardware and environment where the attested virtual amchines or public cloud instances are running on.

{productname} can help with Confidential Compute Attestation by generating a report page (or reports?) for the systems which run in this mode.

These systems need to be attested and checked on regular base.

{productname} provides an attestation report for a system.
The history of the past checks is also stored and available per request.



It is used for...

It allows the customer to... 





=== Limitations

Confidential Compute Attestation is currently implemented only as a technological preview. (YES / NO?)



== Requirements

{CoCo} can be set up in an the environment with the following characteristics:

* Attested system (virtual machine) is *SLES15 SP6* and bootstrapped to {productname}
* Hardware must have *AMD EPYC Milan CPU* or *AMD EPYC Genoa CPU*

//// 
This was from the testing guidelines, perhaps it is not needed in the documentation?
* [literal]``kernel-default`` must be installed instead of [literal]``kernel-default-base``.
  If necessary, run:
+
----
zypper install -- -kernel-default-base +kernel-default
----
////



== Configuring CoCo

.Procedure: Enabling Attestation
[role=procedure]
. For the selected system, go to tab menu:Audit[Confidential Computing > Settings]
. Enable the attestation by selecting the toggle button. 
. In the field [literal]``Environment Type`` select the correct option from the drop-down list.
. (PLACEHOLDER) Enable the automatic attestaion at reboot by selecting the toggle button [literal]``Execution``.
. Click button btn:[Save] to save the changes.
+
image::attestation1.jpg[]


.Procedure: Scheduling New Attestation
[role=procedure]
. For the selected system, go to tab menu:Audit[Confidential Computing > List Attestations]
. Click btn:[Schedule Attestation].
  The new form opens. 
. In the field [literal]``Earliest`` select the time of running the attestation.
. If needed, add the newly created attestation to the action chain by selecting [literal]``Add to`` option.
. Click button btn:[Schedule] to save and schedule the new attestation execution.
+
image::attestation2.jpg[]
+


.Procedure: Viewing Attestation Reports
[role=procedure]
. For the selected system, go to tab menu:Audit[Confidential Computing > List Attestations].
. From the list of shown, find the report you want to view.
+
image::attestation3.jpg[]
+
. In the column [literal]``Actions`` click the icon to open the report.
  Tab [literal]``Overview`` will open.
+
image::attestation4.jpg[]
+
. Move to the next tab [literal]``SEV-SNP``.
// This tab does or does not (NOTE: confirm dependance on the actual environment types) is available depending on the Environment Type selected at the time of scheduling.
+
image::attestation5.jpg[]
+
. (PLACEHOLDER) To check the details about secure booting, open tab [literal]``Secure Boot``.
+
image::attestation6.jpg[]


=== Report statuses

Atetstation reports can have one of the following statuses:

* Pending
* Succesful
* Failed

TBA: Add description here...


== Related topics
// This section can contain links to chapters in other documentation books where the background and more details about the area this workflow is related to are given

* For more information about ..., see xref:...adoc[].
