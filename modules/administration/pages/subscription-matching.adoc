[[subscription-matching]]
= Subscription Matching

Your {suse} products require subscriptions, which are managed by the {scclongform} ({scc}).
{productname} runs a nightly report checking the subscription status of all your registered clients against your {scc} account.
The report gives you information about which clients consume which subscriptions, how many subscriptions you have remaining and available to use, and which clients do not have a current subscription.

Navigate to menu:Audit[Subscription Matching] to see the report.

The [guimenu]``Subscriptions Report`` tab gives information about current and expiring subscriptions.

The [guimenu]``Unmatched Products Report`` tab gives a list of clients that do not have a current subscription.
This includes clients that could not be matched, or that are not currently registered with {productname}.
The report includes product names and the number of systems that remain unmatched.

The [guimenu]``Pins`` tab allows you to associate individual clients to the relevant subscription.
This is especially useful if the subscription manager is not automatically associating clients to subscriptions successfully.

The [guimenu]``Messages`` tab shows all the messages generated by subscription matcher during the matching process. 
They provide information to help understand the results and to improve the matching.

You can also download the reports in .csv format, or access them from that command prompt in the [path]``/var/lib/spacewalk/subscription-matcher/`` directory.

By default, the subscription matcher runs daily, at midnight.
To change this, navigate to menu:Admin[Task Schedules] and click ``gatherer-matcher-default``.
Change the schedule as required, and click btn:[Update Schedule].

Because the report can only match current clients with current subscriptions, you might find that the matches change over time.
The same client does not always match the same subscription.
This can be due to new clients being registered or unregistered, or because of the addition or expiration of subscriptions.

The subscription matcher automatically attempts to reduce the number of unmatched products, limited by the terms and conditions of the subscriptions in your account.
However, if you have incomplete hardware information, unknown virtual machine host assignments, or clients running in unknown public clouds, the matcher might show that you do not have enough subscriptions available.
Always ensure you have complete data about your clients included in {productname}, to help ensure accuracy.


[IMPORTANT]
====
The subscription matcher does not always match clients and subscriptions accurately.
It is not intended to be a replacement for auditing.
====



== Pin Clients to Subscriptions


If the subscription matcher is not automatically matching a particular client with the correct subscription, you can manually pin them.
When you have created a pin, the subscription matcher favors matching a specific subscription with a given system or group of systems.

However, the matcher does not always respect a pin.
It depends on the subscription being available, and whether or not the subscription can be applied to the client.
Additionally, pins are ignored if they result in a match that violates the terms and conditions of the subscription, or if the matcher detects a more accurate match if the pin is ignored.

To add a new pin, click btn:[Add a Pin], and select the client to pin.

[IMPORTANT]
====
We do not recommend using pinning regularly, or for a large number of clients.
The subscription matcher tool is generally accurate enough for most installations.
====
