[[retail-network-arch]]
= Network Architecture

{productname} {smr} uses a layered architecture:

* The first layer contains the {productname} Server.
* The second layer contains one or more branch servers to provide local network and boot services.
    It also contains one or more build hosts.
* The final layer contains any number of deployed point-of-service terminals.

image::retail_arch.png[scaledwidth=80%]


Branch servers should be physically located close to point-of-service terminals, such as in an individual store or branch office.
We recommend you have a fast network connection between the branch server and its terminals.
Branch servers provide services for PXE boot, and act as an image cache, Salt broker, and proxy for software components (RPM packages).
The branch servers can also manage local networking, and provide DHCP and DNS services.


ifeval::[{suma-content} == true]
{productname} {smr} Branch Servers are implemented as enhanced {productname} Proxies.
For technical background information on {productname} Proxies, see xref:installation:install-proxy-unified.adoc[].
endif::[]

ifeval::[{uyuni-content} == true]
{productname} {smr} Branch Servers are implemented as enhanced {productname} Proxies.
For technical background information on {productname} Proxies, see xref:installation:install-proxy-uyuni.adoc[].
endif::[]



== Branch Server Network Configuration

The branch server can operate in several different network configurations.
The two most common configurations are a dedicated network, or a shared network.



=== Dedicated Network Architecture

The branch server has a dedicated network interface card and terminals use an isolated internal branch network.
In this configuration, the branch server manages the internal network and provides DHCP, DNS, PXE, FTP, and TFTP services.

image::retail_dedicated_nic.png[scaledwidth=80%]



=== Shared Network Architecture

The branch server and the terminals are connected to the same network as the {productname} server.
In this configuration, the branch server is not required to manage a network (DHCP and DNS services), but acts as a PXE boot server and provides FTP and TFTP services.

image::retail_shared_network.png[scaledwidth=80%]
