<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
<title>Retail Uyuni Branch Server
     | SUSE Manager 4.3 Documentation</title>    <link rel="canonical" href="https://documentation.suse.com/suma/4.3/en/suse-manager/retail/retail-uyuni-branchserver.html">
    <meta name="generator" content="Antora 3.1.2">
    <link rel="stylesheet" href="../../_/css/site.css">
<link rel="stylesheet" href="../../_/css/search.css">
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="../../_/css/font-styles.css">
<link rel="stylesheet" href="../../_/fonts/css/all.css">
<link rel="stylesheet" href="../../_/css/site-extra.css">
<!-- <link rel="preconnect" href="https://fonts.gstatic.com"> -->
<link href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css" rel="stylesheet">
<!-- <link href="https://fonts.googleapis.com/css?family=Montserrat|Roboto&display=swap" rel="stylesheet"> -->
<link rel="stylesheet" href="../../_/css/vendor/light.css">
<script src="/docserv/res/lightheaded/analytics.js"
        type="text/javascript"></script>
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
   <div class="navbar-brand">
            <div class="navbar-item">
                <a class=" navbar-logo" href="https://documentation.suse.com/suma/"><img
                        class="logo" src="../../_/img/logo.svg"/></a>
            </div>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Search the docs">
        </div>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
     <div id="topbar-nav" class="navbar-menu">
          <div class="navbar-end">
              <div class="navbar-item has-dropdown is-hoverable">
                  <div class="navbar-link"><img src="../../_/img/resources.png" class="langIcon Resurces" alt="Resources" title="Resources"></div>
                  <div class="navbar-dropdown">
                      <!--  <div class="navbar-item"><strong>Resources</strong></div> -->
                      <a class="navbar-item" href="https://github.com/uyuni-project/uyuni-docs"><i
                              class="fab fa-github"></i>&nbsp;uyuni-docs</a>
                      <a class="navbar-item" href="https://github.com/uyuni-project/uyuni-docs/issues"><i
                              class="fab fa-github"></i>&nbsp;Report Issue</a>
                      <a class="navbar-item"
                         href="https://github.com/uyuni-project/uyuni-docs/wiki"><i
                              class="fas fa-user-edit"></i>&nbsp;Contribute</a>
                  </div>
              </div>
                           <div class="navbar-item has-dropdown is-hoverable">
                 <div class="navbar-link"><img src="../../_/img/language.png" class="langIcon Language" alt="Language" title="Language"></div>
                 <div class="navbar-dropdown">
                     <!--  </div><div>Icons made by <a href="https://www.flaticon.com/authors/freepik" title="Freepik">Freepik</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a></div> -->
                     <a role="button" class="navbar-item" id="en" onclick="selectLanguage(this.id)"><img src="../../_/img/engFlag.svg" class="langIcon english">&nbsp;English</a>
                     <!-- LANGUAGESELECTOR -->
                     <a role="button" class="navbar-item" id="ko" onclick="selectLanguage(this.id)"><img src="../../_/img/koFlag.svg" class="langIcon korea">&nbsp;한국어</a>
                     <a role="button" class="navbar-item" id="ja" onclick="selectLanguage(this.id)"><img src="../../_/img/jaFlag.svg" class="langIcon japan">&nbsp;日本語</a>
                     <a role="button" class="navbar-item" id="zh_CN" onclick="selectLanguage(this.id)"><img src="../../_/img/china.svg" class="langIcon china">&nbsp;中文</a>
                 </div>
             </div>
                
          </div>
      </div>
      <a id="twitter-link" class="navbar-item" href="https://twitter.com/susemanager">
          <span class="icon">
            <svg aria-hidden="true" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg"
                 viewBox="0 0 512 512">
              <path fill="#57aaee"
                    d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path>
            </svg>
          </span>
      </a>
   <!--   <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">

        </div>
        <div class="navbar-item">
          <span class="control">
          </span>
        </div>
        <div class="navbar-item">
          <span class="control">
          </span>
        </div>
        <div class="navbar-item">
          <span class="control">
          </span>
        </div>
        <div class="navbar-item">
          <span class="control">
          </span>
        </div>
      </div> -->
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="suse-manager" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">SUSE Manager 4.3 Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../common_gfdl1.2_i.html">License</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../specialized-guides/specialized-guides-overview.html">Specialized Guides</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/overview.html">Public Cloud Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Generic Public Cloud</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/setup.html">Initial Setup</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/clients.html">Client Configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">PAYG Guide</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-overview.html">Pay-as-you-go Overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-benefits.html">Benefits of PAYG</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">PAYG on AWS</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-faq.html">PAYG FAQ on AWS</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-country-listing.html">Supported Country List</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-aws-requirements.html">SUSE Manager AWS requirements</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-find-the-aws-image.html">Find the Image</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-configure-the-image.html">Configure the Image on EC2</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-start-the-image.html">Start the Instance</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-initial-setup.html">Initial Setup</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-start-the-server.html">Start the Server</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-webui-configuration.html">WebUI Configuration</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../specialized-guides/salt/salt-overview.html">Salt Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-terminology.html">Terminology</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-command.html">Salt Command</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-useful-commands.html">Common Salt Commands</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-states-and-pillars.html">Salt States and Pillars</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-gpg-encrypted-pillars.html">GPG Encrypted Pillars</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-custom-states.html">Custom Salt States</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-file-locations.html">File Locations</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-gitfs.html">GitFS Fileserver Backend</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-yomi.html">Install Using Yomi</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-config-modules.html">Configuration Modules</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../specialized-guides/salt/salt-formulas-intro.html">Salt Formulas</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formulas-by-product.html">Formulas provided by SUSE Manager</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-bind.html">Bind Formula</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-branchnetwork.html">Branch Network Formula</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-dhcpd.html">DHCPd Formula</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-imagesync.html">Image Sync Formula</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-monitoring.html">Monitoring Formulas</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-pxe.html">PXE Formula</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-saltboot.html">Saltboot Formula</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-tftpd.html">TFTPd Formula</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-vsftpd.html">VsFTPd Formula</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-yomi.html">Yomi Formula</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formulas-custom.html">Custom Salt Formulas</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-ssh.html">Salt SSH</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-rate-limiting.html">Rate Limiting</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-scaling-minions.html">Scaling Minions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../specialized-guides/large-deployments/overview.html">Large Deployments Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/large-deployments/hardware-reqs.html">Hardware Requirements</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../specialized-guides/large-deployments/single-server.html">Single Server</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/large-deployments/operation-reqs.html">Operation Requirements</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../specialized-guides/large-deployments/multi-server.html">Multiple Servers with Hub</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/large-deployments/hub-reqs.html">Hub Operation Requirements</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/large-deployments/hub-install.html">Hub Installation</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/large-deployments/hub-api.html">Hub API</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/large-deployments/hub-namespaces.html">Hub Namespaces</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/large-deployments/hub-auth.html">Hub Authentication</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/large-deployments/hub-reporting.html">Hub Reporting</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/large-deployments/retail-large-scale.html">Large Retail Environments</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/large-deployments/tuning.html">Tuning Large Installations</a>
  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text">xref:large-deployments/monitoring.adoc[Monitoring Large Scale Deployments</span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../specialized-guides/qs-sap/overview.html">Quick Start: SAP</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/qs-sap/prepare-server.html">Prepare Server</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/qs-sap/prepare-clients.html">Prepare Clients</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/qs-sap/configure.html">Configuration</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">SUSE Manager 4.3 Documentation</span>
    <span class="version">default</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">SUSE Manager 4.3 Documentation</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">default</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">SUSE Manager 4.3 Documentation</a></li>
    <li><a href="retail-uyuni-branchserver.html">Retail Uyuni Branch Server</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="On this page" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Retail Uyuni Branch Server</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_add_software_channels">1. Add Software Channels</a></li>
<li><a href="#_check_synchronization_status">2. Check Synchronization Status</a></li>
<li><a href="#_trust_gpg_keys_on_clients">3. Trust GPG Keys on Clients</a></li>
<li><a href="#_create_activation_key_for_a_branch_server_and_the_retail_terminal_images">4. Create Activation Key for a Branch Server and the Retail Terminal Images</a></li>
<li><a href="#_register_the_branch_server_and_terminals_as_clients">5. Register the Branch Server and Terminals as Clients</a>
<ul class="sectlevel2">
<li><a href="#_register_the_branch_server">5.1. Register the Branch Server</a></li>
</ul>
</li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This section covers SUSE Manager for Retail Branch Server installation and setup, using these procedures:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add Software Channels</p>
</li>
<li>
<p>Check Synchronization Status</p>
</li>
<li>
<p>Trust GPG Keys on Clients</p>
</li>
<li>
<p>Register the Branch Server and Terminals as Clients</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The SUSE Manager for Retail Branch Server is a SUSE Manager Proxy with additional Retail features.
For proxy installation procedures, see <a href="../installation-and-upgrade/install-proxy-uyuni.html" class="xref page">Install SUSE Manager Proxy with openSUSE Leap</a> and <a href="../installation-and-upgrade/uyuni-proxy-setup.html" class="xref page">Uyuni Proxy Setup</a>.</p>
</div>
<div class="paragraph">
<p>Then continue with the following sections.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_add_software_channels"><a class="anchor" href="#_add_software_channels"></a><a class="link" href="#_add_software_channels">1. Add Software Channels</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before you register SUSE Manager branch servers and terminals to your SUSE Manager Server, check that you have the openSUSE product enabled, and the required channels are fully synchronized.</p>
</div>
<div class="paragraph">
<p>The products you need for this procedure are:</p>
</div>
<table id="opensuse-channels-cli" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. openSUSE Channels - CLI</caption>
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">OS Version</th>
<th class="tableblock halign-left valign-top">Base Channel</th>
<th class="tableblock halign-left valign-top">Client Channel</th>
<th class="tableblock halign-left valign-top">Updates Channel</th>
<th class="tableblock halign-left valign-top">Non-OSS Channel</th>
<th class="tableblock halign-left valign-top">Non-OSS Updates Channel</th>
<th class="tableblock halign-left valign-top">Backports Updates Channel</th>
<th class="tableblock halign-left valign-top">SLE Updates Channel</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">openSUSE Leap 15.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">opensuse_leap15_4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">opensuse_leap15_4-uyuni-client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">opensuse_leap15_4-updates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">opensuse_leap15_4-non-oss</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">opensuse_leap15_4-non-oss-updates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">opensuse_leap15_4-backports-updates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">opensuse_leap15_4-sle-updates</p></td>
</tr>
</tbody>
</table>
<div class="olist arabic">
<div class="title">Procedure: Adding Software Channels at the Command Prompt</div>
<ol class="arabic">
<li>
<p>At the command prompt on the SUSE Manager Server, as root, use the <code class="command">spacewalk-common-channels</code> command to add the appropriate channels:</p>
<div class="listingblock">
<div class="content">
<pre>spacewalk-common-channels \
&lt;base_channel_name&gt; \
&lt;child_channel_name_1&gt; \
&lt;child_channel_name_2&gt; \
... &lt;child_channel_name_n&gt;</pre>
</div>
</div>
</li>
<li>
<p>Synchronize the channels:</p>
<div class="listingblock">
<div class="content">
<pre>mgr-sync refresh --refresh-channels</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_check_synchronization_status"><a class="anchor" href="#_check_synchronization_status"></a><a class="link" href="#_check_synchronization_status">2. Check Synchronization Status</a></h2>
<div class="sectionbody">
<div class="olist arabic">
<div class="title">Procedure: Checking Synchronization Progress</div>
<ol class="arabic">
<li>
<p>In the SUSE Manager Web UI, navigate to <span class="menuseq"><b class="menu">Software</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Manage</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Channels</b></span>, then click the channel associated to the repository.</p>
</li>
<li>
<p>Navigate to the <code class="guimenu">Repositories</code> tab, then click <code class="guimenu">Sync</code> and check <code class="systemitem">Sync Status</code>.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Procedure: Checking Synchronization Progress from the Command Prompt</div>
<ol class="arabic">
<li>
<p>At the command prompt on the SUSE Manager Server, as root, use the <code class="command">tail</code> command to check the synchronization log file:</p>
<div class="listingblock">
<div class="content">
<pre>tail -f /var/log/rhn/reposync/&lt;channel-label&gt;.log</pre>
</div>
</div>
</li>
<li>
<p>Each child channel generates its own log during the synchronization progress.
You will need to check all the base and child channel log files to be sure that the synchronization is complete.</p>
</li>
</ol>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>openSUSE channels can be very large.
Synchronization can sometimes take several hours.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_trust_gpg_keys_on_clients"><a class="anchor" href="#_trust_gpg_keys_on_clients"></a><a class="link" href="#_trust_gpg_keys_on_clients">3. Trust GPG Keys on Clients</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default, some operating systems do not trust the GPG key for the SUSE Manager client tools.
The clients can be successfully bootstrapped without the GPG key being trusted.
However, you will not be able to install new client tool packages or update them until the keys are trusted.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure: Trusting GPG Keys on Clients</div>
<ol class="arabic">
<li>
<p>On the SUSE Manager Server, at the command prompt, check the contents of the <code class="path">/srv/www/htdocs/pub/</code> directory.
This directory contains all available public keys.
Take a note of the key that applies to the client you are registering.</p>
</li>
<li>
<p>Open the relevant bootstrap script, locate the <code class="systemitem">ORG_GPG_KEY=</code> parameter and add the required key.
For example:</p>
<div class="listingblock">
<div class="content">
<pre>uyuni-gpg-pubkey-0d20833e.key</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>  You do not need to delete any previously stored keys.
. If you are bootstrapping clients from the {productname} {webui}, you will need to use a Salt state to trust the key.
  Create the Salt state and assign it to the organization.
  You can then use an activation key and configuration channels to deploy the key to the clients.</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_activation_key_for_a_branch_server_and_the_retail_terminal_images"><a class="anchor" href="#_create_activation_key_for_a_branch_server_and_the_retail_terminal_images"></a><a class="link" href="#_create_activation_key_for_a_branch_server_and_the_retail_terminal_images">4. Create Activation Key for a Branch Server and the Retail Terminal Images</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The branch server is based on the SUSE Manager Proxy.
Its activation key must contain these child channels:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>openSUSE Leap 15.5 Updates (x86_64)</p>
</li>
<li>
<p>Uyuni Client Tools for openSUSE Leap 15.5 (x86_64)</p>
</li>
<li>
<p>Uyuni Proxy Stable for openSUSE Leap 15.5 (x86_64)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The activation key for retail terminal images based on openSUSE Leap 15.5 must contain these child channels:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>openSUSE Leap 15.5 Updates (x86_64)</p>
</li>
<li>
<p>Uyuni Client Tools for openSUSE Leap 15.5 (x86_64)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information about creating activation keys, see <a href="../client-configuration/activation-keys.html" class="xref page">Activation Keys</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_register_the_branch_server_and_terminals_as_clients"><a class="anchor" href="#_register_the_branch_server_and_terminals_as_clients"></a><a class="link" href="#_register_the_branch_server_and_terminals_as_clients">5. Register the Branch Server and Terminals as Clients</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>You register both the branch server and the terminals as openSUSE clients.
To register your openSUSE clients, you need a bootstrap repository.
By default, bootstrap repositories are automatically created, and regenerated daily for all synchronized products.
You can manually create the bootstrap repository from the command prompt, using this command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mgr-create-bootstrap-repo --with-custom-channels</pre>
</div>
</div>
<div class="paragraph">
<p>For more information on registering your clients, see <a href="../client-configuration/registration-overview.html" class="xref page">Client Registration</a>.</p>
</div>
<div class="sect2">
<h3 id="_register_the_branch_server"><a class="anchor" href="#_register_the_branch_server"></a><a class="link" href="#_register_the_branch_server">5.1. Register the Branch Server</a></h3>
<div class="paragraph">
<p>A retail branch server is registered as an openSUSE proxy.
The proxy can be bootstrapped using the Web UI, or at the command prompt.
Ensure you use the activation key you created for the proxy.</p>
</div>
<div class="paragraph">
<p>For more information about proxies, see <a href="../installation-and-upgrade/uyuni-proxy-registration.html" class="xref page">SUSE Manager Proxy Registration</a>.
For more information about activation keys, see <a href="../client-configuration/activation-keys.html" class="xref page">Activation Keys</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure: Setting Up the Uyuni Proxy</div>
<ol class="arabic">
<li>
<p>Check  that the <code>Uyuni Proxy Stable for openSUSE Leap 15.5 (x86_64)</code> channel is assigned to the proxy on the system profile page.</p>
</li>
<li>
<p>At the command prompt on the proxy, as root, install the proxy pattern:</p>
<div class="listingblock">
<div class="content">
<pre>zypper in -t pattern uyuni_proxy</pre>
</div>
</div>
</li>
<li>
<p>Finalize the proxy setup:</p>
<div class="listingblock">
<div class="content">
<pre>configure-proxy.sh</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[command]``configure-proxy.sh`` is an interactive script.
For more information about the proxy setup script, see xref:installation-and-upgrade:uyuni-proxy-setup.adoc#uyuni-proxy-setup-confproxy[].</pre>
</div>
</div>
</li>
<li>
<p>OPTIONAL: If you want to use the same system also as a build host, navigate to the client&#8217;s system profile and check <code class="systemitem">OS Image Build Host</code> as a <code class="guimenu">Add-On System Types</code>.</p>
</li>
<li>
<p>Configure the proxy to become a branch server.
On the SUSE Manager for Retail Server, for example, run:</p>
<div class="listingblock">
<div class="content">
<pre>retail_branch_init &lt;branch_server_minion_id&gt; --dedicated-nic eth1 \
    --branch-ip 192.168.7.5 \
    --netmask 255.255.255.0 \
    --dyn-range 192.168.7.100 192.168.7.200 \
    --server-domain branch.example.org \
    --branch-prefix uyuni</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>For additional options,  use the [command]``retail_branch_init --help`` command.</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script src="../../_/js/vendor/lunr.js"></script>
<script src="../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../.." data-snippet-length="100" data-stylesheet="../../_/css/search.css"></script>
<script async src="../../search-index.js"></script>
<script src="../../_/js/vendor/langSelection.js"></script>

  </body>
</html>
