<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
<title>Set Up the SUSE Manager for Retail Environment using containerized proxy
     | SUSE Manager 4.3 Documentation</title>    <link rel="canonical" href="https://documentation.suse.com/suma/4.3/en/suse-manager/retail/containerized-saltboot.html">
    <meta name="generator" content="Antora 3.1.2">
    <link rel="stylesheet" href="../../_/css/site.css">
<link rel="stylesheet" href="../../_/css/search.css">
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="../../_/css/font-styles.css">
<link rel="stylesheet" href="../../_/fonts/css/all.css">
<link rel="stylesheet" href="../../_/css/site-extra.css">
<!-- <link rel="preconnect" href="https://fonts.gstatic.com"> -->
<link href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css" rel="stylesheet">
<!-- <link href="https://fonts.googleapis.com/css?family=Montserrat|Roboto&display=swap" rel="stylesheet"> -->
<link rel="stylesheet" href="../../_/css/vendor/light.css">
<script src="/docserv/res/lightheaded/analytics.js"
        type="text/javascript"></script>
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
   <div class="navbar-brand">
            <div class="navbar-item">
                <a class=" navbar-logo" href="https://documentation.suse.com/suma/"><img
                        class="logo" src="../../_/img/logo.svg"/></a>
            </div>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Search the docs">
        </div>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
     <div id="topbar-nav" class="navbar-menu">
          <div class="navbar-end">
              <div class="navbar-item has-dropdown is-hoverable">
                  <div class="navbar-link"><img src="../../_/img/resources.png" class="langIcon Resurces" alt="Resources" title="Resources"></div>
                  <div class="navbar-dropdown">
                      <!--  <div class="navbar-item"><strong>Resources</strong></div> -->
                      <a class="navbar-item" href="https://github.com/uyuni-project/uyuni-docs"><i
                              class="fab fa-github"></i>&nbsp;uyuni-docs</a>
                      <a class="navbar-item" href="https://github.com/uyuni-project/uyuni-docs/issues"><i
                              class="fab fa-github"></i>&nbsp;Report Issue</a>
                      <a class="navbar-item"
                         href="https://github.com/uyuni-project/uyuni-docs/wiki"><i
                              class="fas fa-user-edit"></i>&nbsp;Contribute</a>
                  </div>
              </div>
                           <div class="navbar-item has-dropdown is-hoverable">
                 <div class="navbar-link"><img src="../../_/img/language.png" class="langIcon Language" alt="Language" title="Language"></div>
                 <div class="navbar-dropdown">
                     <!--  </div><div>Icons made by <a href="https://www.flaticon.com/authors/freepik" title="Freepik">Freepik</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a></div> -->
                     <a role="button" class="navbar-item" id="en" onclick="selectLanguage(this.id)"><img src="../../_/img/engFlag.svg" class="langIcon english">&nbsp;English</a>
                     <!-- LANGUAGESELECTOR -->
                     <a role="button" class="navbar-item" id="ko" onclick="selectLanguage(this.id)"><img src="../../_/img/koFlag.svg" class="langIcon korea">&nbsp;한국어</a>
                     <a role="button" class="navbar-item" id="ja" onclick="selectLanguage(this.id)"><img src="../../_/img/jaFlag.svg" class="langIcon japan">&nbsp;日本語</a>
                     <a role="button" class="navbar-item" id="zh_CN" onclick="selectLanguage(this.id)"><img src="../../_/img/china.svg" class="langIcon china">&nbsp;中文</a>
                 </div>
             </div>
                
          </div>
      </div>
      <a id="twitter-link" class="navbar-item" href="https://twitter.com/susemanager">
          <span class="icon">
            <svg aria-hidden="true" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg"
                 viewBox="0 0 512 512">
              <path fill="#57aaee"
                    d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path>
            </svg>
          </span>
      </a>
   <!--   <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">

        </div>
        <div class="navbar-item">
          <span class="control">
          </span>
        </div>
        <div class="navbar-item">
          <span class="control">
          </span>
        </div>
        <div class="navbar-item">
          <span class="control">
          </span>
        </div>
        <div class="navbar-item">
          <span class="control">
          </span>
        </div>
      </div> -->
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="suse-manager" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">SUSE Manager 4.3 Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../common_gfdl1.2_i.html">License</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../specialized-guides/specialized-guides-overview.html">Specialized Guides</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/overview.html">Public Cloud Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Generic Public Cloud</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/setup.html">Initial Setup</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/clients.html">Client Configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">PAYG Guide</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-overview.html">Pay-as-you-go Overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-benefits.html">Benefits of PAYG</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">PAYG on AWS</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-faq.html">PAYG FAQ on AWS</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-country-listing.html">Supported Country List</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-aws-requirements.html">SUSE Manager AWS requirements</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-find-the-aws-image.html">Find the Image</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-configure-the-image.html">Configure the Image on EC2</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-start-the-image.html">Start the Instance</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-initial-setup.html">Initial Setup</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-start-the-server.html">Start the Server</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-webui-configuration.html">WebUI Configuration</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../specialized-guides/salt/salt-overview.html">Salt Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-terminology.html">Terminology</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-command.html">Salt Command</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-useful-commands.html">Common Salt Commands</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-states-and-pillars.html">Salt States and Pillars</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-gpg-encrypted-pillars.html">GPG Encrypted Pillars</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-custom-states.html">Custom Salt States</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-file-locations.html">File Locations</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-gitfs.html">GitFS Fileserver Backend</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-yomi.html">Install Using Yomi</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-config-modules.html">Configuration Modules</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../specialized-guides/salt/salt-formulas-intro.html">Salt Formulas</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formulas-by-product.html">Formulas provided by SUSE Manager</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-bind.html">Bind Formula</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-branchnetwork.html">Branch Network Formula</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-dhcpd.html">DHCPd Formula</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-imagesync.html">Image Sync Formula</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-monitoring.html">Monitoring Formulas</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-pxe.html">PXE Formula</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-saltboot.html">Saltboot Formula</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-tftpd.html">TFTPd Formula</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-vsftpd.html">VsFTPd Formula</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-yomi.html">Yomi Formula</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formulas-custom.html">Custom Salt Formulas</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-ssh.html">Salt SSH</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-rate-limiting.html">Rate Limiting</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-scaling-minions.html">Scaling Minions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../specialized-guides/large-deployments/overview.html">Large Deployments Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/large-deployments/hardware-reqs.html">Hardware Requirements</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../specialized-guides/large-deployments/single-server.html">Single Server</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/large-deployments/operation-reqs.html">Operation Requirements</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../specialized-guides/large-deployments/multi-server.html">Multiple Servers with Hub</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/large-deployments/hub-reqs.html">Hub Operation Requirements</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/large-deployments/hub-install.html">Hub Installation</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/large-deployments/hub-api.html">Hub API</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/large-deployments/hub-namespaces.html">Hub Namespaces</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/large-deployments/hub-auth.html">Hub Authentication</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/large-deployments/hub-reporting.html">Hub Reporting</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/large-deployments/retail-large-scale.html">Large Retail Environments</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/large-deployments/tuning.html">Tuning Large Installations</a>
  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text">xref:large-deployments/monitoring.adoc[Monitoring Large Scale Deployments</span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../specialized-guides/qs-sap/overview.html">Quick Start: SAP</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/qs-sap/prepare-server.html">Prepare Server</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/qs-sap/prepare-clients.html">Prepare Clients</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/qs-sap/configure.html">Configuration</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">SUSE Manager 4.3 Documentation</span>
    <span class="version">default</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">SUSE Manager 4.3 Documentation</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">default</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">SUSE Manager 4.3 Documentation</a></li>
    <li><a href="containerized-saltboot.html">Set Up the SUSE Manager for Retail Environment using containerized proxy</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="On this page" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Set Up the SUSE Manager for Retail Environment using containerized proxy</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_assumptions">1. Assumptions</a></li>
<li><a href="#_create_required_system_groups">2. Create required system groups</a></li>
<li><a href="#_saltboot_group">3. Saltboot group</a>
<ul class="sectlevel2">
<li><a href="#_default_boot_image">3.1. Default boot image</a></li>
<li><a href="#_kernel_option_for_the_saltboot_group">3.2. Kernel option for the Saltboot group</a></li>
<li><a href="#_naming_scheme_for_new_registrations">3.3. Naming scheme for new registrations</a></li>
</ul>
</li>
<li><a href="#_comparing_containerized_and_non_containerized_workflows">4. Comparing containerized and non-containerized workflows</a></li>
<li><a href="#_validating_saltboot_group_configuration">5. Validating Saltboot group configuration</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>To set up the SUSE Manager for Retail environment, you will need to have already installed and configured:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SUSE Manager for Retail Server 4.3 or newer</p>
</li>
<li>
<p>one or more SUSE Manager for Retail containerized proxies</p>
</li>
<li>
<p>one or more SUSE Manager build host</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This section covers how to configure your  environment using containerized SUSE Manager Proxy for <code class="systemitem">Saltboot</code> deployment.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Containerized SUSE Manager for Retail environment does not use SUSE Manager for Retail Branch Servers.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Containerized workflow requires POS images build using SUSE Manager Server 4.3 or newer.
Older images will not work.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Containerized workflow not longer implicitly configure DHCP for PXE booting.
See <a href="../specialized-guides/salt/salt-formula-dhcpd.html" class="xref page">DHCPd Formula</a> how to use DHCP formula to configure DHCP server.</p>
</div>
<div class="paragraph">
<p>Without using DHCP formula, make sure your DHCP server has correct PXE booting setting pointing to containerized proxy.
See below for example.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_assumptions"><a class="anchor" href="#_assumptions"></a><a class="link" href="#_assumptions">1. Assumptions</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this example we are going to use branch id <code class="systemitem">B0001</code>.</p>
</div>
<div class="paragraph">
<p>As a terminal we assume to have one terminal with hardware manufacturer <code class="systemitem">TerminalOEM</code> and model <code class="systemitem">T1000</code>.</p>
</div>
<div class="paragraph">
<p>For POS image we assume to have one with name <code class="systemitem">POS_Image_JeOS7</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_required_system_groups"><a class="anchor" href="#_create_required_system_groups"></a><a class="link" href="#_create_required_system_groups">2. Create required system groups</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Follow guide <a href="../reference/systems/system-groups.html" class="xref page">System Groups</a> to create the system groups:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code class="systemitem">TERMINALS</code></p>
</li>
<li>
<p><code class="systemitem">HWType:TerminalOEM-T1000</code></p>
</li>
<li>
<p><code class="systemitem">B0001</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>First group is generic optional group for collecting all POS terminals. Second group is hardware type group for our POS terminal. Third group is mandatory branch group.</p>
</div>
<div class="paragraph">
<p>For more information about Saltboot groups, see <a href="retail-install-setup.html" class="xref page">Set Up the SUSE Manager for Retail Environment</a>.</p>
</div>
<div class="paragraph">
<p>We assign <code class="systemitem">Saltboot Group</code> formula to group <code class="systemitem">B0001</code> we just created. With this, our branch group is converted to <code class="systemitem">Saltboot Group</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_saltboot_group"><a class="anchor" href="#_saltboot_group"></a><a class="link" href="#_saltboot_group">3. Saltboot group</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Containerized SUSE Manager for Retail is configured in <code class="systemitem">Saltboot Group</code>.</p>
</div>
<div class="paragraph">
<p>Saltboot Groups are branch groups, system group with branch id as its name, with <code class="systemitem">Saltboot Group</code> formula enabled.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/saltboot_group.png" alt="saltboot group">
</div>
</div>
<div class="paragraph">
<p><code class="systemitem">Saltboot Group</code> formula is a successor of <code class="systemitem">Branch Network formula</code>, <code class="systemitem">PXE formula</code> and <code class="systemitem">TFTP formula</code> used in regular SUSE Manager for Retail setups.</p>
</div>
<div class="paragraph">
<p>Name of the <code class="systemitem">Saltboot group</code> is automatically used as a <code class="systemitem">branch id</code>, an identifier for group of machines booted through particular containerized SUSE Manager Proxy.</p>
</div>
<div class="paragraph">
<p>All <code class="systemitem">Saltboot</code> deployed machines though containerized proxy will automatically became members of its <code class="systemitem">Saltboot group</code>.</p>
</div>
<div class="paragraph">
<p>To connect <code class="systemitem">Saltboot group</code> with containerized proxy fill <code class="systemitem">Image Download Server</code> entry with Fully Qualified Domain Name (<code class="literal">FQDN</code>) of the containerized proxy.</p>
</div>
<div class="paragraph">
<p>With this, mandatory configuration is finished. The rest of configuration is optional.</p>
</div>
<div class="sect2">
<h3 id="_default_boot_image"><a class="anchor" href="#_default_boot_image"></a><a class="link" href="#_default_boot_image">3.1. Default boot image</a></h3>
<div class="paragraph">
<p>Configure <code class="systemitem">Default boot image for new registrations</code> to specify what boot image should be booted by not yet registered POS terminal.
This is useful when stable boot image is wanted for initial deployments.
Without this setting, newest built boot image is used as default boot image.</p>
</div>
<div class="paragraph">
<p>If <code class="systemitem">Default boot image for new registrations</code> is set, option to set its version appears under name <code class="systemitem">Default boot image version</code> where specific image version can be set.</p>
</div>
</div>
<div class="sect2">
<h3 id="_kernel_option_for_the_saltboot_group"><a class="anchor" href="#_kernel_option_for_the_saltboot_group"></a><a class="link" href="#_kernel_option_for_the_saltboot_group">3.2. Kernel option for the Saltboot group</a></h3>
<div class="paragraph">
<p>Option <code class="systemitem">Kernel parameters for the group</code> can be used to pass extra kernel options to all POS terminals registered withing this Saltboot group.</p>
</div>
</div>
<div class="sect2">
<h3 id="_naming_scheme_for_new_registrations"><a class="anchor" href="#_naming_scheme_for_new_registrations"></a><a class="link" href="#_naming_scheme_for_new_registrations">3.3. Naming scheme for new registrations</a></h3>
<div class="paragraph">
<p>Last three options are related to how will be newly registered machine visible in SUSE Manager Server.</p>
</div>
<div class="paragraph">
<p>See <a href="retail-terminal-names.html" class="xref page">Terminal Names</a> for explanation of possible configurations.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comparing_containerized_and_non_containerized_workflows"><a class="anchor" href="#_comparing_containerized_and_non_containerized_workflows"></a><a class="link" href="#_comparing_containerized_and_non_containerized_workflows">4. Comparing containerized and non-containerized workflows</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>External DHCP service must be used with containerized Saltboot.</p>
</div>
<div class="paragraph">
<p>For more information about how to enable PXE booting in DHCP service, see <a href="retail-install-setup.html" class="xref page">Set Up the SUSE Manager for Retail Environment</a>.</p>
</div>
<div class="paragraph">
<p>Containerized workflow relies on updated image building in SUSE Manager Server 4.3 where PXE images are no longer collected as bundle, but kernel, initrd and filesystem image are collected individually.</p>
</div>
<div class="paragraph">
<p>Containerized workflow uses new TFTP container which instead of providing files present on the proxy, routes TFTP requests as HTTP requests through local proxy to SUSE Manager Server.</p>
</div>
<div class="paragraph">
<p>Containerized proxy is not a Salt client, it is not possible to call <code class="systemitem">image-sync</code> state.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Once POS image is build and made available on SUSE Manager Server, it is immediately available to the Saltboot clients as well.
Image synchronization is not needed, nor available.
This may have implications on how images are deployed to production.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following sections differentiate between containerized and regular workflow.
Both are assuming proxy (containerized or in form of SUSE Manager for Retail Branch Server) are available.</p>
</div>
<div class="paragraph">
<p>Containerized workflow:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Build POS image</p>
</li>
<li>
<p>Configure DHCP server for PXE booting for given network</p>
</li>
<li>
<p>Create <code class="systemitem">Saltboot group</code> and configure it for existing containerized proxy</p>
</li>
<li>
<p>Boot system to be deployed</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Non-Containerized workflow:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Build POS image</p>
</li>
<li>
<p>Configure and apply Retail formulas on SUSE Manager for Retail Branch server</p>
</li>
<li>
<p>Apply <code class="systemitem">highstate</code> state on the Branch server</p>
</li>
<li>
<p>Create <code class="systemitem">branch group</code> with the name of Branch ID as set in retail formulas</p>
</li>
<li>
<p>Apply <code class="systemitem">image-sync</code> state on configured SUSE Manager for Retail Branch server</p>
</li>
<li>
<p>Boot system to be deployed</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_validating_saltboot_group_configuration"><a class="anchor" href="#_validating_saltboot_group_configuration"></a><a class="link" href="#_validating_saltboot_group_configuration">5. Validating Saltboot group configuration</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><code class="systemitem">Containerized Saltboot</code> utilizes <code class="systemitem">Cobbler</code> system underneath for managing PXE and UEFI configuration.</p>
</div>
<div class="paragraph">
<p>When new PXE image is built (such as SUSE Manager for Retail POS_Image_JeOS images) <code class="systemitem">cobbler distro</code> and <code class="systemitem">cobbler profile</code> are automatically generated for this image.</p>
</div>
<div class="paragraph">
<p>For example when first image <code class="literal">POS_Image_JeOS</code> version <code class="literal">7.0.0</code> is build under organization with number 1 <code class="command">cobbler list</code> will show:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># cobbler list

distros:
   1-POS_Image_JeOS7-7.0.0-1

profiles:
   1-POS_Image_JeOS7-7.0.0-1</pre>
</div>
</div>
<div class="paragraph">
<p>These entries contain information about kernel and initrd.
These entries are however not yet available for PXE booting.</p>
</div>
<div class="paragraph">
<p>Only when <code class="systemitem">Saltboot group</code> is created, new Cobbler profile is created for this <code class="systemitem">Saltboot group</code> which points to <code class="systemitem">cobbler distro</code> based on default boot image configuration.</p>
</div>
<div class="paragraph">
<p>For example, when system group <code class="literal">B0001</code> is created and <code class="systemitem">Saltboot group formula</code> is assigned and configured for this group, new Cobbler profile is created.</p>
</div>
<div class="listingblock">
<div class="content">
<pre># cobbler list

distros:
   1-POS_Image_JeOS7-7.0.0-1

profiles:
   1-POS_Image_JeOS7-7.0.0-1
   1-B0001</pre>
</div>
</div>
<div class="paragraph">
<p>When inspecting this new group using command <code class="command">cobbler profile report --name 1-B0001</code> details of this profile reveal configuration of this Saltboot group.</p>
</div>
<div class="listingblock">
<div class="content">
<pre># cobbler profile report --name 1-B0001

Name                           : 1-B0001
Comment                        : Saltboot group B0001 of organization SUSE default profile
Distribution                   : 1-POS_Image_JeOS7-7.0.0-1
Kernel Options                 : {'MASTER': ['downloadserver.example.org'], 'MINION_ID_PREFIX': ['B0001']}</pre>
</div>
</div>
<div class="paragraph">
<p>Kernel options in example are always present and are internal for Saltboot functionality.</p>
</div>
<div class="paragraph">
<p>With this information <code class="systemitem">Cobbler</code> is able to generate required PXE and UEFI Grub configurations which can be checked in <code class="path">/srv/tftpboot/pxelinux.cfg/default</code> and <code class="path">/srv/tftpboot/grub/x86_64_menu_items.cfg</code>.</p>
</div>
<div class="paragraph">
<p>These files contain the end result which will be used by PXE client when determining what to boot and with what parameters.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script src="../../_/js/vendor/lunr.js"></script>
<script src="../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../.." data-snippet-length="100" data-stylesheet="../../_/css/search.css"></script>
<script async src="../../search-index.js"></script>
<script src="../../_/js/vendor/langSelection.js"></script>

  </body>
</html>
