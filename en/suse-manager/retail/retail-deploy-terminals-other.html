<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
<title>Deploy Terminals - Other Methods
     | SUSE Manager 4.3 Documentation</title>    <link rel="canonical" href="https://documentation.suse.com/suma/4.3/en/suse-manager/retail/retail-deploy-terminals-other.html">
    <meta name="generator" content="Antora 3.1.2">
    <link rel="stylesheet" href="../../_/css/site.css">
<link rel="stylesheet" href="../../_/css/search.css">
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="../../_/css/font-styles.css">
<link rel="stylesheet" href="../../_/fonts/css/all.css">
<link rel="stylesheet" href="../../_/css/site-extra.css">
<!-- <link rel="preconnect" href="https://fonts.gstatic.com"> -->
<link href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css" rel="stylesheet">
<!-- <link href="https://fonts.googleapis.com/css?family=Montserrat|Roboto&display=swap" rel="stylesheet"> -->
<link rel="stylesheet" href="../../_/css/vendor/light.css">
<script src="/docserv/res/lightheaded/analytics.js"
        type="text/javascript"></script>
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
   <div class="navbar-brand">
            <div class="navbar-item">
                <a class=" navbar-logo" href="https://documentation.suse.com/suma/"><img
                        class="logo" src="../../_/img/logo.svg"/></a>
            </div>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Search the docs">
        </div>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
     <div id="topbar-nav" class="navbar-menu">
          <div class="navbar-end">
              <div class="navbar-item has-dropdown is-hoverable">
                  <div class="navbar-link"><img src="../../_/img/resources.png" class="langIcon Resurces" alt="Resources" title="Resources"></div>
                  <div class="navbar-dropdown">
                      <!--  <div class="navbar-item"><strong>Resources</strong></div> -->
                      <a class="navbar-item" href="https://github.com/uyuni-project/uyuni-docs"><i
                              class="fab fa-github"></i>&nbsp;uyuni-docs</a>
                      <a class="navbar-item" href="https://github.com/uyuni-project/uyuni-docs/issues"><i
                              class="fab fa-github"></i>&nbsp;Report Issue</a>
                      <a class="navbar-item"
                         href="https://github.com/uyuni-project/uyuni-docs/wiki"><i
                              class="fas fa-user-edit"></i>&nbsp;Contribute</a>
                  </div>
              </div>
                           <div class="navbar-item has-dropdown is-hoverable">
                 <div class="navbar-link"><img src="../../_/img/language.png" class="langIcon Language" alt="Language" title="Language"></div>
                 <div class="navbar-dropdown">
                     <!--  </div><div>Icons made by <a href="https://www.flaticon.com/authors/freepik" title="Freepik">Freepik</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a></div> -->
                     <a role="button" class="navbar-item" id="en" onclick="selectLanguage(this.id)"><img src="../../_/img/engFlag.svg" class="langIcon english">&nbsp;English</a>
                     <!-- LANGUAGESELECTOR -->
                     <a role="button" class="navbar-item" id="ko" onclick="selectLanguage(this.id)"><img src="../../_/img/koFlag.svg" class="langIcon korea">&nbsp;한국어</a>
                     <a role="button" class="navbar-item" id="ja" onclick="selectLanguage(this.id)"><img src="../../_/img/jaFlag.svg" class="langIcon japan">&nbsp;日本語</a>
                     <a role="button" class="navbar-item" id="zh_CN" onclick="selectLanguage(this.id)"><img src="../../_/img/china.svg" class="langIcon china">&nbsp;中文</a>
                 </div>
             </div>
                
          </div>
      </div>
      <a id="twitter-link" class="navbar-item" href="https://twitter.com/susemanager">
          <span class="icon">
            <svg aria-hidden="true" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg"
                 viewBox="0 0 512 512">
              <path fill="#57aaee"
                    d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path>
            </svg>
          </span>
      </a>
   <!--   <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">

        </div>
        <div class="navbar-item">
          <span class="control">
          </span>
        </div>
        <div class="navbar-item">
          <span class="control">
          </span>
        </div>
        <div class="navbar-item">
          <span class="control">
          </span>
        </div>
        <div class="navbar-item">
          <span class="control">
          </span>
        </div>
      </div> -->
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="suse-manager" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">SUSE Manager 4.3 Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../common_gfdl1.2_i.html">License</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../specialized-guides/specialized-guides-overview.html">Specialized Guides</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/overview.html">Public Cloud Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Generic Public Cloud</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/setup.html">Initial Setup</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/clients.html">Client Configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">PAYG Guide</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-overview.html">Pay-as-you-go Overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-benefits.html">Benefits of PAYG</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">PAYG on AWS</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-faq.html">PAYG FAQ on AWS</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-country-listing.html">Supported Country List</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-aws-requirements.html">SUSE Manager AWS requirements</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-find-the-aws-image.html">Find the Image</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-configure-the-image.html">Configure the Image on EC2</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-start-the-image.html">Start the Instance</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-initial-setup.html">Initial Setup</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-start-the-server.html">Start the Server</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../specialized-guides/public-cloud-guide/payg/payg-webui-configuration.html">WebUI Configuration</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../specialized-guides/salt/salt-overview.html">Salt Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-terminology.html">Terminology</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-command.html">Salt Command</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-useful-commands.html">Common Salt Commands</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-states-and-pillars.html">Salt States and Pillars</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-gpg-encrypted-pillars.html">GPG Encrypted Pillars</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-custom-states.html">Custom Salt States</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-file-locations.html">File Locations</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-gitfs.html">GitFS Fileserver Backend</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-yomi.html">Install Using Yomi</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-config-modules.html">Configuration Modules</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../specialized-guides/salt/salt-formulas-intro.html">Salt Formulas</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formulas-by-product.html">Formulas provided by SUSE Manager</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-bind.html">Bind Formula</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-branchnetwork.html">Branch Network Formula</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-dhcpd.html">DHCPd Formula</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-imagesync.html">Image Sync Formula</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-monitoring.html">Monitoring Formulas</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-pxe.html">PXE Formula</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-saltboot.html">Saltboot Formula</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-tftpd.html">TFTPd Formula</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-vsftpd.html">VsFTPd Formula</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formula-yomi.html">Yomi Formula</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/salt/salt-formulas-custom.html">Custom Salt Formulas</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-ssh.html">Salt SSH</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-rate-limiting.html">Rate Limiting</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/salt/salt-scaling-minions.html">Scaling Minions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../specialized-guides/large-deployments/overview.html">Large Deployments Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/large-deployments/hardware-reqs.html">Hardware Requirements</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../specialized-guides/large-deployments/single-server.html">Single Server</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/large-deployments/operation-reqs.html">Operation Requirements</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../specialized-guides/large-deployments/multi-server.html">Multiple Servers with Hub</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/large-deployments/hub-reqs.html">Hub Operation Requirements</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/large-deployments/hub-install.html">Hub Installation</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/large-deployments/hub-api.html">Hub API</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/large-deployments/hub-namespaces.html">Hub Namespaces</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/large-deployments/hub-auth.html">Hub Authentication</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../specialized-guides/large-deployments/hub-reporting.html">Hub Reporting</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/large-deployments/retail-large-scale.html">Large Retail Environments</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/large-deployments/tuning.html">Tuning Large Installations</a>
  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text">xref:large-deployments/monitoring.adoc[Monitoring Large Scale Deployments</span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../specialized-guides/qs-sap/overview.html">Quick Start: SAP</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/qs-sap/prepare-server.html">Prepare Server</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/qs-sap/prepare-clients.html">Prepare Clients</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../specialized-guides/qs-sap/configure.html">Configuration</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">SUSE Manager 4.3 Documentation</span>
    <span class="version">default</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">SUSE Manager 4.3 Documentation</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">default</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">SUSE Manager 4.3 Documentation</a></li>
    <li><a href="retail-deploy-terminals-other.html">Deploy Terminals - Other Methods</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="On this page" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Deploy Terminals - Other Methods</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_deploy_terminals_with_a_removable_usbdevice">1. Deploy Terminals with a Removable USB Device</a></li>
<li><a href="#_deploy_terminals_over_a_wireless_network">2. Deploy Terminals over a Wireless Network</a>
<ul class="sectlevel2">
<li><a href="#_change_wireless_credentials">2.1. Change Wireless Credentials</a></li>
<li><a href="#_use_multiple_wireless_networks">2.2. Use Multiple Wireless Networks</a></li>
</ul>
</li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>If you are not able to boot terminals from the network, you can create a live USB image and deploy terminals using a removable USB storage device.
You can also bootstrap terminals across a wireless network.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Hardware type groups must be created and images must be synchronized before continuing.
For more information, see <a href="retail-deploy-terminals.html" class="xref page">Deployment basics</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>After you have registered new terminals, always check the SUSE Manager Web UI to ensure your terminals have connected successfully to the branch server, and not directly to the SUSE Manager Server by mistake.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_deploy_terminals_with_a_removable_usbdevice"><a class="anchor" href="#_deploy_terminals_with_a_removable_usbdevice"></a><a class="link" href="#_deploy_terminals_with_a_removable_usbdevice">1. Deploy Terminals with a Removable USB Device</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you do not want to boot terminals from the network, you can create a live USB image and deploy terminals using a removable USB storage device.
This is useful if you cannot boot your terminals from the network, or if you do not have a local SUSE Manager for Retail branch server providing network services.</p>
</div>
<div class="paragraph">
<p>You can prepare a bootable USB device with the image and tools required to deploy a POS terminal using a remote SUSE Manager for Retail branch server.
You can create the bootable USB device on the branch server directly, or on the SUSE Manager for Retail Server.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>POS devices booted using the USB device are assigned to the SUSE Manager for Retail branch server that created the USB device.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Procedure: Creating a Bootable USB Device</div>
<ol class="arabic">
<li>
<p>On the SUSE Manager for Retail branch server, at the command prompt, as root, create the POS image.</p>
<div class="paragraph">
<p>You need to specify the size of the image, in megabytes.</p>
</div>
<div class="paragraph">
<p>Ensure you allow at least 300&#160;MB:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>salt-call image_sync_usb.create &lt;usb image name&gt; &lt;size in MB&gt;</pre>
</div>
</div>
</li>
<li>
<p>Insert the USB device into the SUSE Manager for Retail branch server machine, and copy the image to the new location:</p>
<div class="listingblock">
<div class="content">
<pre>dd bs=1M if=&lt;usb image name&gt; of=&lt;path to usb device&gt;</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>When you have the image on the USB drive, check that the terminals you want to deploy allow local booting.
You can check this by editing the Saltboot formula in the SUSE Manager for Retail Web UI.
For more information about the Saltboot formula, see <a href="../specialized-guides/salt/salt-formula-saltboot.html" class="xref page">Saltboot Formula</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure: Deploying Images to the Terminals using USB</div>
<ol class="arabic">
<li>
<p>Insert the USB device into the terminal.</p>
</li>
<li>
<p>Power on the POS terminal.</p>
</li>
<li>
<p>Boot from the USB device to begin bootstrapping.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_deploy_terminals_over_a_wireless_network"><a class="anchor" href="#_deploy_terminals_over_a_wireless_network"></a><a class="link" href="#_deploy_terminals_over_a_wireless_network">2. Deploy Terminals over a Wireless Network</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>For terminals that cannot be connected directly to the physical network, you can deploy them over a wireless network.
Wireless networks do not support PXE booting, so you must perform the initial booting and initialization of the wireless connection on the terminal using a USB device.</p>
</div>
<div class="paragraph">
<p>For more information about using USB devices to boot, see <a href="retail-deploy-terminals-other.html" class="xref page">Deploy Terminals - Other Methods</a>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Bootstrapping across a wireless network could expose a security risk if you are using encrypted OS images.
The boot <code>initrd</code> image and the partition that contains <code>/etc/salt</code> must be stored unencrypted on the terminal.
This allows SUSE Manager for Retail to set up the wireless network.
If this breaches your security requirements, you will need to use a separate production network, with network credentials managed by Salt, so that credentials are not stored on the terminal unencrypted.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Before you begin, you need to have created a bootable USB device.
Ensure that the OS image you use to create the USB device has the <code>dracut-wireless</code> package included.
For more information about using USB devices to boot, see <a href="retail-deploy-terminals-other.html" class="xref page">Deploy Terminals - Other Methods</a>.</p>
</div>
<div class="paragraph">
<p>When you have created the USB device, you need to provide the wireless credentials to the terminal.
You can do this in a number of ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Directly during image build.</p>
</li>
<li>
<p>Add it to the <code>initrd</code> file on the branch server.</p>
</li>
<li>
<p>During terminal booting, using the kernel command line.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure: Providing Wireless Credentials During Image Build</div>
<ol class="arabic">
<li>
<p>Ensure that the <code>dracut-wireless</code> package is included  in the image template.</p>
</li>
<li>
<p>Set the wireless credentials by creating or editing the <code>etc/sysconfig/network/ifcfg-wlan0</code> file to the image template, with these details:</p>
<div class="listingblock">
<div class="content">
<pre># ALLOW_UPDATE_FROM_INITRD
WIRELESS_ESSID=&lt;wireless network name&gt;
WIRELESS_WPA_PSK=&lt;wireless network password&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>If you want to use different credentials for bootstrapping to what is used during normal operation, you can remove the <code>ALLOW_UPDATE_FROM_INITRD</code> line.</p>
</div>
</li>
<li>
<p>Build the image.</p>
</li>
<li>
<p>Prepare a USB device using this image, and boot the terminal.
For more information about using USB devices to boot, see <a href="retail-deploy-terminals-other.html" class="xref page">Deploy Terminals - Other Methods</a>.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Procedure: Providing Wireless Credentials with initrd</div>
<ol class="arabic">
<li>
<p>Set the wireless credentials by creating or editing the <code>etc/sysconfig/network/ifcfg-wlan0</code> file, with these details:</p>
<div class="listingblock">
<div class="content">
<pre># ALLOW_UPDATE_FROM_INITRD
WIRELESS_ESSID=&lt;wireless network name&gt;
WIRELESS_WPA_PSK=&lt;wireless network password&gt;</pre>
</div>
</div>
</li>
<li>
<p>. Copy the file to <code>initrd</code> on the branch server:</p>
<div class="listingblock">
<div class="content">
<pre>echo ./etc/sysconfig/network/ifcfg-wlan0 | cpio -H newc -o | gzip &gt;&gt; /srv/saltboot/boot/initrd.gz</pre>
</div>
</div>
</li>
<li>
<p>Check that the terminals you want to deploy allow local booting.
You can check this by editing the Saltboot formula in the SUSE Manager for Retail Web UI.
For more information about the Saltboot formula, see <a href="../specialized-guides/salt/salt-formula-saltboot.html" class="xref page">Saltboot Formula</a>.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Procedure: Providing Wireless Credentials During Terminal Boot</div>
<ol class="arabic">
<li>
<p>Mount the USB device on the terminal, and boot from it.</p>
</li>
<li>
<p>Append these commands to the kernel boot parameters:</p>
<div class="listingblock">
<div class="content">
<pre>WIRELESS_ESSID=&lt;wireless_network_name&gt;
WIRELESS_WPA_PSK=&lt;wireless_network_password&gt;</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="_change_wireless_credentials"><a class="anchor" href="#_change_wireless_credentials"></a><a class="link" href="#_change_wireless_credentials">2.1. Change Wireless Credentials</a></h3>
<div class="paragraph">
<p>After you have set the wireless credentials, you can change them as needed.
The way to do this is different if you use one company-wide network, or if you have each branch server on its own separate network.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure: Changing Wireless Credentials for Single Network</div>
<ol class="arabic">
<li>
<p>Rebuild the boot image with updated credentials.</p>
</li>
<li>
<p>Recreate the bootable USB device based on the new boot image.</p>
</li>
<li>
<p>Boot terminal from new USB device.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Procedure: Changing Wireless Credentials for Multiple Networks</div>
<ol class="arabic">
<li>
<p>In the <code class="path">/srv/salt/</code> directory, create a salt state called <code>update-terminal-credentials.sls</code>, and enter the new wireless network credentials:</p>
<div class="listingblock">
<div class="content">
<pre>/etc/sysconfig/network/ifcfg-wlan0
  file.managed:
   - contents: |
        WIRELESS_ESSID=&lt;wireless_network_name&gt;
        WIRELESS_WPA_PSK=&lt;wireless_network_password&gt;
# regenerate initrd
  cmd.run:
  - name: 'mkinitrd'</pre>
</div>
</div>
</li>
<li>
<p>Apply the Salt state to the terminal:</p>
<div class="listingblock">
<div class="content">
<pre>salt &lt;terminal_salt_name&gt; state.apply update-terminal-credentials</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you are using a separate network for the boot phase, the managed file might need to be renamed, or extended to <code class="path">/etc/sysconfig/network/initrd-ifcfg-wlan0</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_use_multiple_wireless_networks"><a class="anchor" href="#_use_multiple_wireless_networks"></a><a class="link" href="#_use_multiple_wireless_networks">2.2. Use Multiple Wireless Networks</a></h3>
<div class="paragraph">
<p>You can configure terminals to use a different set of wireless credentials during the boot process, to what they use during normal operation.</p>
</div>
<div class="paragraph">
<p>If you provide wireless credentials using <code>initrd</code> files, you can create two different files, one for use during boot called <code>initrd-ifcfg-wlan0</code>, and the other for use during normal operation, called <code>ifcfg-wlan0</code>.</p>
</div>
<div class="paragraph">
<p>Alternatively, you can use custom Salt states to manage wireless credentials with <code>saltboot-hook</code>.</p>
</div>
<div class="paragraph">
<p>First of all, you need to set the wireless details for normal operation.
This will become the default settings.
Then you can specify a second Salt state with the wireless details for use during the boot procedure.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure: Using Different Wireless Credentials for Production Network</div>
<ol class="arabic">
<li>
<p>Write a custom Salt state named <code>/srv/salt/saltboot_hook.sls</code> containing the wireless details for normal operation.
This Salt state is applied by Saltboot after the system image is deployed.</p>
<div class="listingblock">
<div class="content">
<pre>{% set root = salt['environ.get']('NEWROOT') %}
{{ root }}/etc/sysconfig/network/ifcfg-wlan0:
  file.managed:
   - contents: |
        WIRELESS_ESSID=&lt;wireless_network_name&gt;
        WIRELESS_WPA_PSK=&lt;wireless_network_password&gt;
    - require:
      - saltboot: saltboot_fstab
    - require_in:
      - saltboot: boot_system</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The boot phase supports only WPA2 PSK wireless configuration.
Salt-managed production configuration supports all features supported by all major operating systems.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script src="../../_/js/vendor/lunr.js"></script>
<script src="../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../.." data-snippet-length="100" data-stylesheet="../../_/css/search.css"></script>
<script async src="../../search-index.js"></script>
<script src="../../_/js/vendor/langSelection.js"></script>

  </body>
</html>
