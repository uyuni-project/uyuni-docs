<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Salt Formulas :: Uyuni Documentation</title>
    <link rel="canonical" href="https://www.uyuni-project.org/uyuni-docs/uyuni/beta1/salt/salt-formulas.html">
    <meta name="generator" content="Antora 1.1.1">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="stylesheet" href="../../../_/css/site-extra.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css">
    <!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css -->
    <link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <a href="https://opensource.suse.com/doc-susemanager/">Uyuni</a>
        <span class="separator">//</span>
        <a href="https://www.uyuni-project.org/uyuni-docs">Documentation</a>
      </div>
      <div class="navbar-item">
        <input id="search-input" type="text" placeholder="Search docs">
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <div class="navbar-link">Projects</div>
          <div class="navbar-dropdown">
            <div class="navbar-item"><strong>Resources</strong></div>
            <a class="navbar-item" href="https://github.com/uyuni-project/uyuni-docs">Repository</a>
            <a class="navbar-item" href="https://github.com/uyuni-project/uyuni-docs/issues">Issue Tracker</a>
<!--
            <hr class="navbar-divider">
            <div class="navbar-item"><strong>Custom UI (coming soon!)</strong></div>
            <a class="navbar-item" href="https://gitlab.com/antora/antora-ui-default">Repository</a>
            <a class="navbar-item" href="https://gitlab.com/antora/antora-ui-default/issues">Issue Tracker</a>
            <hr class="navbar-divider">

            <a class="navbar-item" href="https://github.com/SUSE/doc-susemanager/wiki/Asciidoc-getting-started">Contributing</a>
          </div>
        </div>
           -->
              <!--
        <div class="navbar-item has-dropdown is-hoverable">
          <div class="navbar-link">Community</div>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://gitter.im/uyuniproject/users">Uyuni Chat (Users)</a>
            <a class="navbar-item" href="https://gitter.im/uyuniproject/develop">Uyuni Chat (Dev)</a>
          </div>
        </div>
        -->
          </div>
        </div>
        <a class="navbar-item" href="https://twitter.com/uyuniproject?lang=de">
          <span class="icon">
            <svg aria-hidden="true" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
              <path fill="#57aaee" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path>
            </svg>
          </span>
        </a>
      </div>
    </div>
  </nav>
</header>
<div class="main-wrapper">
<div class="navigation-container" data-component="uyuni" data-version="beta1">
  <aside class="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index-uyuni.html">Uyuni</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../release-notes-version-4.0.html">Release Notes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Installation Guide</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/install-intro.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/install-overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Requirements</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/general-requirements.html">General</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/hardware-requirements.html">Hardware</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/network-requirements.html">Network</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/client-requirements.html">Clients</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">First Installation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/install-vm.html">Install VM</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/install-server.html">Install Server</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/install-server-setup.html">Server Setup</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">IBM zSystems</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/install-zsystems.html">Install IBM zSystems</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Proxy</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/install-proxy.html">Install Proxy</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/common_gfdl1.2_i.html">License</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../client-configuration/client-config-overview.html">Client Configuration Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../client-configuration/clients-and-scc.html">SUSE Customer Center</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../client-configuration/clients-and-activation-keys.html">Activation Keys</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../client-configuration/traditional-vs-salt.html">Traditional VS Salt</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../client-configuration/bootstrapping-clients.html">Bootstrapping</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../client-configuration/contact-methods.html">Client Contact Methods</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../client-configuration/manual-registration/manual-registration-overview.html">Manual Registration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/manual-registration/creating-activation-keys.html">Creating Activation keys</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/manual-registration/creating-a-tools-repository.html">Creating a Tools Repository</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/manual-registration/traditional-registration.html">Traditional Registration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/manual-registration/salt-registration.html">Salt Registration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/clients-rh.html#clients-rh">Red Hat Clients</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/clients-centos.html">CentOS Clients</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/clients-ubuntu.html">Ubuntu Clients</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/scale-minions.html#scale-minions">Scaling Salt Minion</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../client-configuration/automating-installation/autoinstallation-methods.html">Automating Client Installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/automating-installation/autoyast.html">AutoYaST</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/automating-installation/kickstart.html">Kickstart</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/automating-installation/cobbler.html">Cobbler</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../client-configuration/disconnected-setup.html">Disconnected Setup</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../client-configuration/subscription-management.html">Subscription Management</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../client-configuration/common_gfdl1.2_i.html">License</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../upgrade/upgrade-overview.html">Upgrade Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/server-upgrade.html">Server Update</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/migrate-2x-3x.html">Server Upgrade 2.x &#8594; 3.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/migrate-3x-3x.html">Server Upgrade 3.x &#8594; 3.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/migrate-3x-4x.html">Server Upgrade 3.x &#8594; 4.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/client-migration.html">Client Migration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../upgrade/sp-migration.html">Service Pack Migration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../upgrade/performing-an-sp-migration.html">Performing an SP Migration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/db-migration.html">Database Migration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/maintenance-window-tasks.html">Maintenance Window Tasks</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/troubleshooting-upgrades-and-migrations.html">Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/upgrade-script-example.html">Example Script for Automated Upgrades</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/common_gfdl1.2_i.html">License</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/intro.html">Reference Manual</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">WebUI Reference</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/navigation/navigation-menu.html">Navigation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/home/home-menu.html">Home</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/home/home-overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/home/home-notification-messages.html">Notification Messages</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <span class="nav-text">User Account</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/home/user-account-your-account.html">Your Account</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/home/user-account-addresses.html">Addresses</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/home/user-account-change-email.html">Change Email</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/home/user-account-account-deactivation.html">Account Deactivation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/home/home-your-preferences.html">Your Preferences</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <span class="nav-text">Your Organization</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/home/your-organization-configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/home/your-organization-trusts.html">Organization Trusts</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/home/your-organization-configuration-channels.html">Configuration Channels</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/systems/systems-menu.html">Systems</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/systems/systems-overview.html">Systems Overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/systems/system-details.html">System Details</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/systems/systems-list.html">Systems List</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/systems/system-groups.html">System Groups</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/systems/ssm-menu.html">System Set Manager</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/ssm-overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/ssm-task-log.html">Task Log</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/systems/bootstrapping.html">Bootstrapping</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/systems/visualization-menu.html">Visualization</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/virtualization-hierarchy.html">Virtualization Hierarchy</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/proxy-hierarchy.html">Proxy Hierarchy</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/systems-grouping.html">Systems Grouping</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/systems/advanced-search.html">Advanced Search</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/systems/activation-keys.html">Activation Keys</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/systems/stored-profiles.html">Stored Profiles</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/systems/custom-system-info.html">Custom System Info</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/systems/autoinst-menu.html">Autoinstallation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/autoinst-overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/autoinst-profiles.html">Profiles</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/autoinst-unprovisioned.html">Unprovisioned</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/autoinst-gpg-and-ssl-keys.html">GPG and SSL Keys</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/autoinst-distributions.html">Distributions</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/autoinst-file-preservation.html">File Preservation</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/autoinst-snippets.html">Autoinstallation Snipppets</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/systems/software-crashes.html">Software Crashes</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/systems/virtual-host-managers.html">Virtual Host Managers</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/salt/salt-menu.html">Salt</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/salt/salt-keys.html">Keys</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/salt/salt-remote-commands.html">Remote Commands</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/salt/salt-formula-catalog.html">Formula Catalog</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/images/images-menu.html">Images</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/images/images-image-list.html">Image List</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/images/images-build.html">Build</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/images/images-profiles.html">Profiles</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/images/images-stores.html">Stores</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/patches/patches-menu.html">Patches</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/patches/patch-list.html">Patch List</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/patches/patch-list-relevant.html">Relevant</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/patches/patch-list-all.html">All</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/patches/patches-advanced-search.html">Advanced Search</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/patches/manage-patches.html">Manage Patches</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/patches/manage-patches-published.html">Published</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/patches/manage-patches-unpublished.html">Unpublished</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/patches/clone-patches.html">Clone Patches</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/software/software-menu.html">Software</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/software/software-channel-list-menu.html">Channel List</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/software/software-channel-list-filters.html">Channel Filters</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/software/software-package-search.html">Package Search</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/software/software-manage-menu.html">Manage</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/software/manage-channels.html">Channels</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/software/manage-packages.html">Packages</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/software/manage-repositories.html">Repositories</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/software/software-distribution-channel-mapping.html">Distribution Channel Mapping</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/audit/audit-menu.html">Audit</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/audit/audit-cve-audit.html">CVE Audit</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/audit/audit-subscription-matching.html">Subscription Matching</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/audit/openscap-menu.html">OpenSCAP</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/audit/openscap-all-scans.html">All Scans</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/audit/openscap-xccdf-diff.html">XCCDF Diff</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/audit/openscap-advanced-search.html">Advanced Search</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/configuration/config-menu.html">Configuration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/configuration/config-overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/configuration/config-channels.html">Channels</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/configuration/config-files-menu.html">Files</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/configuration/files-centrally-managed.html">Centrally Managed</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/configuration/files-locally-managed.html">Locally Managed</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/configuration/config-systems-menu.html">Systems</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/configuration/config-systems-managed.html">Managed</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/configuration/config-systems-target.html">Target</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/schedule/schedule-menu.html">Schedule</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/schedule/pending-actions.html">Pending Actions</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/schedule/completed-actions.html">Completed Actions</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/schedule/archived-actions.html">Archived Actions</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/schedule/action-chains.html">Action Chains</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/users/users-menu.html">Users</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/users/users-list.html">Users List</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/users/active-users.html">Active Users</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/users/deactivated-users.html">Deactivated Users</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/users/all-users.html">All Users</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/users/system-group-configuration.html">System Group Configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/admin/admin-menu.html">Admin</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/admin/setup-wizard.html">Setup Wizard</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/admin/organizations.html">Organizations</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/admin/users.html">Users</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/admin/manager-configuration.html">Manager Configuration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/admin/general.html">General</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/admin/bootstrap-script.html">Bootstrap Script</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/admin/manager-config-organizations.html">Organizations</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/admin/restart.html">Restart</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/admin/cobbler.html">Cobbler</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/admin/bare-metal-systems.html">Bare-metal Systems</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/admin/iss-configuration.html">ISS Configuration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/admin/iss-master-setup.html">ISS Master Setup</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/admin/iss-slave-setup.html">ISS Slave Setup</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/admin/task-schedules.html">Task Schedules</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/admin/task-engine-status.html">Task Engine Status</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/admin/show-tomcat-logs.html">Show Tomcat Logs</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/help/help-menu.html">Help</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/help/documentation-version.html">Documentation Version</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/help/release-notes.html">Release Notes</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/help/api-menu.html">API</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/help/api-overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/help/api-faq.html">FAQ</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/help/api-sample-scripts.html">Sample Scripts</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/spacecmd-intro.html">spacecmd Reference</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/spacecmd/configuring-spacecmd.html">Configuring spacecmd</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/spacecmd/spacecmd-help.html">Help</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/spacecmd/spacecmd-history.html">History</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/spacecmd/troubleshooting-spacecmd.html">Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/spacecmd/spacecmd-functions.html">spacecmd Functions</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/functions/activationkey_.html">activationkey_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/functions/api.html">api</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/functions/clear.html">clear</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/functions/clear_caches.html">clear_caches</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/functions/configchannel_.html">configchannel_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/functions/cryptokey_.html">cryptokey_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/functions/custominfo_.html">custominfo_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/functions/distribution_.html">distribution_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/functions/errata_.html">errata_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/functions/filepreservation_.html">filepreservation_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/functions/get_.html">get_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/functions/group_.html">group_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/functions/kickstart_.html">kickstart_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/functions/list_proxies.html">list_proxies</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/functions/login.html">login</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/functions/logout.html">logout</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/functions/org_.html">org_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/functions/package_.html">package_</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../reference/common_gfdl1.2_i.html">License</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../administration/intro.html">Administration Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/image-management.html">Image Management</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/live-patching.html">Live Patching</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/icinga.html">Icinga</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/kubernetes.html">Kubernetes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/virtualization.html">Virtualization</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/virtual-hosts.html">Virtual Hosts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/security.html">Security</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/auth-methods.html">Authentication Methods</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/custom-ssl.html">Custom SSL Certificates</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/backup-restore.html">Backing Up and Restoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/optimization-scalability.html">Optimization and Scalability</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/troubleshooting.html">Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/autoyast-example.html">AutoYaST Example</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/common_gfdl1.2_i.html">License</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Salt Guide</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="salt-intro.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Salt Terminology</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="salt-terminology.html">Salt Terminology</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="salt-calls.html">Salt Calls</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="salt-commands.html">Salt Commands</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="salt-states.html">Salt States</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="salt-formulas.html">Salt Formulas</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="installing-example-formula.html">Installing a Formula</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="common_gfdl1.2_i.html">License</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../retail/retail-introduction.html">Retail Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../retail/retail-components.html">Components</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../retail/retail-install.html">Install</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../retail/retail-formulas.html">Formulas</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../retail/retail-admin.html">Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../retail/retail-next.html">What Next?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../retail/retail-migration-intro.html">Retail Upgrade</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../retail/retail-prepare-migration.html">Prepare for Migration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../retail/retail-migration-slepostosuma.html">Migrate SLEPOS to SUMA</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../retail/common_gfdl1.2_i.html">License</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../architecture/architecture-intro.html">Architecture Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../architecture/architecture-legend.html">Legend</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../architecture/salt-overview.html">Salt</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt-core-components.html">Core Salt Components</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt-data-locations.html">Salt Data Locations</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt-contact-method-overview.html">Salt Contact Methods</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt-pull.html">Salt Pull</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt-ssh-push.html">Salt SSH Push</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt-ssh-push-tunnel.html">Salt SSH Push &amp; Tunnel</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt-bootstrapping-ui.html">Salt Bootstrapping WebUI</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt-onboarding-and-registration.html">Onboarding and Registration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../architecture/traditional-overview.html">Traditional</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/traditional-contact-method-overview.html">Contact Methods</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/traditional-rhnsd.html">rhnsd</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/traditional-osad.html">osad</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/traditional-ssh-push.html">SSH Push</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/traditional-ssh-pull.html">SSH Pull</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../architecture/repositories-overview.html">Repositories</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/pool-repositories.html">Pool Repositories</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/devel-repositories.html">Devel Repositories</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/tools-repositories.html">Tools Repositories</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/maintenance-repositories.html">Maintenance Repositories</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/syncing-repositories.html">Syncing Repositories</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../architecture/components-overview.html">Component Index</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/apache.html">Apache httpd</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/tomcat.html">Tomcat</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/python-xmlrpc-server.html">Python XMLRPC Server</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/taskomatic.html">Taskomatic</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/database.html">Database</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/mgr-sync.html">mgr-sync</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/spacewalk-repo-sync.html">spacewalk-repo-sync</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/osa-dispatcher.html">osa-dispatcher</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/jabberd.html">jabberd</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/mgr_check.html">mgr_check</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/plugin-zypp-spacewalk.html">zypp-plugin-spacewalk</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/rhnsd.html">rhnsd</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/osad.html">osad</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt-master.html">salt-master</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt-api.html">salt-api</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt-minion.html">salt-minion</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt-broker.html">salt-broker</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../architecture/common_gfdl1.2_i.html">License</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">Uyuni</span>
    <span class="version">beta1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Uyuni</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index-uyuni.html">beta1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
  <a href="../index-uyuni.html" class="home-link"></a>
<nav class="crumbs" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="../index-uyuni.html">Uyuni</a></li>
    <li class="crumb">Salt Guide</li>
    <li class="crumb"><a href="salt-formulas.html">Salt Formulas</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///antora/modules/salt/pages/salt-formulas.adoc">Edit this Page</a></div>
</div>
<article class="doc">
<h1>Salt Formulas</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This chapter provides an introduction for using Salt Formulas with Uyuni.
Creation of custom formulas will also be introduced.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="best.practice.salt.formulas.what"><a class="anchor" href="#best.practice.salt.formulas.what"></a><a class="link" href="#best.practice.salt.formulas.what">What are Salt Formulas?</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Formulas are collections of Salt States that have been pre-written by other Salt users and contain generic parameter fields.
Formulas allow for reliable reproduction of a specific configuration again and again.
Formulas can be installed from RPM packages or an external git repository.</p>
</div>
<div class="paragraph">
<p>This list will help you decide whether to use a state or a formula:</p>
</div>
<div class="ulist">
<div class="title">Formula Tips</div>
<ul>
<li>
<p>When writing states for trivial tasks, formulas are probably not worth the time investment.</p>
</li>
<li>
<p>For large, non-trivial configurations use formulas.</p>
</li>
<li>
<p>Formulas and States both act as a kind of configuration documentation.
Once written and stored you will have a snapshot of what your infrastructure should look like.</p>
</li>
<li>
<p>Pre-written formulas are available from the <a href="https://github.com/saltstack-formulas">Saltstack formula repository on Github</a>.
Use these as a starting point for your own custom formulas.</p>
</li>
<li>
<p>Formula data can be managed via the XMLRPC API.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Formula with Forms Improvements</div>
<div class="paragraph">
<p>Forms are a graphical representation of the formulas parameter data.
You can customize these configuration data in the Uyuni WebÂ UI, with entry fields, drop-down, check boxes, etc.</p>
</div>
<div class="paragraph">
<p>For more information, see <a href="https://www.suse.com/c/forms-formula-success/" class="bare">https://www.suse.com/c/forms-formula-success/</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="best.practice.salt.formulas.install"><a class="anchor" href="#best.practice.salt.formulas.install"></a><a class="link" href="#best.practice.salt.formulas.install">Installing Salt Formulas via RPM</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>SUSE releases formulas as RPM packages.
Available formulas can be located within the <code class="systemitem">SUSE-Manager-Server-3.2-Pool</code> channel.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="title">Salt State Name Clashes</div>
<div class="paragraph">
<p>If a Salt Formula uses the same name as an existing Salt State, the two names will collide, and could result in the formula being used instead of the state.
Always check states and formulas to avoid name clashes.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Procedure: Installing Salt Formulas from an RPM</div>
<ol class="arabic">
<li>
<p>To search for available formulas, execute the following command on your Uyuni server:</p>
<div class="listingblock">
<div class="content">
<pre>zypper se --type package formula</pre>
</div>
</div>
<div class="paragraph">
<p>You will see a list of available Salt formulas:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>S | Name              | Summary                                                    | Type
--+-------------------+------------------------------------------------------------+-----------
  | locale-formula    | Locale Salt Formula for SUSE Manager                       | package</pre>
</div>
</div>
</li>
<li>
<p>For more information about a formula, run the following command:</p>
<div class="listingblock">
<div class="content">
<pre>zypper info locale-formula</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>Information for package locale-formula:
-----------------------------------------
Repository: SUSE-Manager-Server-{productnumber}-Pool
Name:  locale-formula
Version:  0.2-1.1
Arch: noarch
Vendor:  SUSE LLC &lt;https://www.suse.com/&gt;
Support Level: Level 3
Status: not installed
Installed Size: 47.9 KiB
Installed: No
Source package : locale-formula-0.2-1.1.src
Summary        : Locale Salt Formula for SUSE Manager
Description    :
    Salt Formula for SUSE Manager. Sets up the locale.</pre>
</div>
</div>
</li>
<li>
<p>To install a formula run as root:</p>
<div class="listingblock">
<div class="content">
<pre>zypper in locale-formula</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="best.practice.salt.formulas.filedir"><a class="anchor" href="#best.practice.salt.formulas.filedir"></a><a class="link" href="#best.practice.salt.formulas.filedir">File Structure Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>RPM-based formulas must be placed in a specific directory structure to ensure proper functionality.
A formula always consists of two separate directories: The <code class="path">states</code> directory and the <code class="path">metadata</code> directory.
Folders in these directories need to have an exactly matching name, for example <code>locale</code>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">The Formula State Directory</dt>
<dd>
<p>The formula states directory contains anything necessary for a Salt state to work independently.
This includes <code class="path">.sls</code> files, a <code class="path">map.jinja</code> file and any other required files.
This directory should only be modified by RPMs and should not be edited manually.
For example, the <span class="package">locale-formula</span> states directory is located in:</p>
<div class="listingblock">
<div class="content">
<pre>/usr/share/susemanager/formulas/states/locale/</pre>
</div>
</div>
</dd>
<dt class="hdlist1">The Formula Metadata Directory</dt>
<dd>
<p>The metadata directory contains a <code class="path">form.yml</code> file which defines the forms for Uyuni and an optional <code class="path">metadata.yml</code> file that can contain additional information about a formula.
For example, the <span class="package">locale-formula</span> metadata directory is located in:</p>
<div class="listingblock">
<div class="content">
<pre>/usr/share/susemanager/formulas/metadata/locale/</pre>
</div>
</div>
</dd>
<dt class="hdlist1">Custom Formulas</dt>
<dd>
<p>Custom formula data or (non-RPM) formulas need to be placed into any state directory configured as a Salt file root:</p>
<div class="dlist">
<dl>
<dt class="hdlist1">State directory</dt>
<dd>
<p>Custom state formula data needs to be placed in:</p>
<div class="listingblock">
<div class="content">
<pre>/srv/salt/&lt;custom-formula-name&gt;/</pre>
</div>
</div>
</dd>
<dt class="hdlist1">Metadata Directory</dt>
<dd>
<p>Custom metadata (information) needs to be placed in:</p>
<div class="listingblock">
<div class="content">
<pre>/srv/formula_metadata/&lt;custom-formula-name&gt;/</pre>
</div>
</div>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>All custom folders located in the following directories need to contain a <code class="path">form.yml</code> file.
These files are detected as form recipes and may be applied to groups and systems from the WebÂ UI:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>/srv/formula_metadata/&lt;custom-formula-name&gt;/form.yml</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="best.practice.salt.formulas.pillar"><a class="anchor" href="#best.practice.salt.formulas.pillar"></a><a class="link" href="#best.practice.salt.formulas.pillar">Editing Pillar Data in Uyuni</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Uyuni requires a file called <code class="path">form.yml</code>, to describe how formula data should look within the WebÂ UI.
<code class="path">form.yml</code> is used by Uyuni to generate the desired form, with values editable by a user.</p>
</div>
<div class="paragraph">
<p>For example, the <code class="path">form.yml</code> that is included with the <span class="package">locale-formula</span> is placed in:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>/usr/share/susemanager/formulas/metadata/locale/form.yml</pre>
</div>
</div>
<div class="paragraph">
<p>See part of the following <span class="package">locale-formula</span> example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># This file is part of locale-formula.
#
# Foobar is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# Foobar is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with Foobar.  If not, see &lt;http://www.gnu.org/licenses/&gt;.

timezone:
  $type: group

  name:
    $type: select
    $values: ["CET",
              "CST6CDT",
              "EET",
              "EST",
              "EST5EDT",
              "GMT",
              "GMT+0",
              "GMT-0",
              "GMT0",
              "Greenwich",
              "HST",
              "MET",
              "MST",
              "MST7MDT",
              "NZ",
              "NZ-CHAT",
              "Navajo",
              "PST8PDT",
              "UCT",
              "UTC",
              "Universal",
              "W-SU",
              "WET",
              "Zulu",
              "Etc/GMT+1",
              "Etc/GMT+2",
              "Etc/GMT+3",
              "Etc/GMT+4",
              "Etc/GMT+5",
              "Etc/GMT+6",
              "Etc/GMT+7",
              "Etc/GMT+8",
              "Etc/GMT+9",
              "Etc/GMT+10",
              "Etc/GMT+11",
              "Etc/GMT+12",
              "Etc/GMT-1",
              "Etc/GMT-2",
              "Etc/GMT-3",
              "Etc/GMT-4",
              "Etc/GMT-5",
              "Etc/GMT-6",
              "Etc/GMT-7",
              "Etc/GMT-8",
              "Etc/GMT-9",
              "Etc/GMT-10",
              "Etc/GMT-11",
              "Etc/GMT-12",
              "Etc/GMT-13",
              "Etc/GMT-14",
              "Etc/GMT",
              "Etc/GMT+0",
              "Etc/GMT-0",
              "Etc/GMT0",
              "Etc/Greenwich",
              "Etc/UCT",
              "Etc/UTC",
              "Etc/Universal",
              "Etc/Zulu"
              ]
    $default: CET

  hardware_clock_set_to_utc:
    $type: boolean
    $default: True
...</pre>
</div>
</div>
<div class="paragraph">
<p><code class="path">form.yml</code> contains additional information that describes how the form for a pillar should look for Uyuni.
This information is contained in attributes that always start with a <code>$</code> sign.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="title">Ignored Values</div>
<div class="paragraph">
<p>All values that start with a <code>$</code> sign are annotations used to display the UI that users interact with.
These annotations are not part of pillar data itself and are handled as metadata.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following are valid attributes.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">$type</dt>
<dd>
<p>The most important attribute is the <code>$type</code> attribute.
It defines the type of the pillar value and the form-field that is generated.
The following represent the supported types:</p>
<div class="ulist">
<ul>
<li>
<p><code>text</code></p>
</li>
<li>
<p><code>password</code></p>
</li>
<li>
<p><code>number</code></p>
</li>
<li>
<p><code>url</code></p>
</li>
<li>
<p><code>email</code></p>
</li>
<li>
<p><code>date</code></p>
</li>
<li>
<p><code>time</code></p>
</li>
<li>
<p><code>datetime</code></p>
</li>
<li>
<p><code>boolean</code></p>
</li>
<li>
<p><code>color</code></p>
</li>
<li>
<p><code>select</code></p>
</li>
<li>
<p><code>group</code></p>
</li>
<li>
<p><code>edit-group</code></p>
</li>
<li>
<p><code>namespace</code></p>
</li>
<li>
<p><code>hidden-group</code> (obsolete, renamed to <code>namespace</code>)</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Text Attribute</div>
<div class="paragraph">
<p>The text attribute is the default and does not need to be specified explicitly.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Many of these values are self-explanatory:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>text</code> type generates a simple text field</p>
</li>
<li>
<p>The <code>password</code> type generates a password field</p>
</li>
<li>
<p>The <code>color</code> type generates a color picker</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>group</code>, <code>edit-group</code>, and <code>namespace</code> (formerly <code>hidden-group</code>) types do not generate an editable field and are used to structure form and pillar data.
The difference between <code>group</code> and <code>namespace</code> is <code>group</code> generates a visible border with a heading, and <code>namespace</code> shows nothing visually (and is only used to structure pillar data).
The difference between <code>group</code> and <code>edit-group</code> is: <code>edit-group</code> allows to structure and restrict editable fields in a more flexible way.
<code>edit-group</code> is a collection of items of the same kind; collections can have the following four "shapes":</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A list of primitive items</p>
</li>
<li>
<p>A list of dictionaries</p>
</li>
<li>
<p>A dictionary of primitive items</p>
</li>
<li>
<p>A dictionary of dictionaries</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The size of each collection is variable; users can add or remove elements.</p>
</div>
<div class="paragraph">
<p>For example, <code>edit-group</code> supports the <code>$minItems</code> and <code>$maxItems</code> attributes, and thus it simplifies complex and repeatable input structures.
These, and also <code>itemName</code>, are optional.
For an <code>edit-group</code> example, see <a href="#salt.formulas.ex.edit-group">Simple edit-group Example</a>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">$default</dt>
<dd>
<p><code>$default</code> allows you to specify a default value that is displayed and used, if no other value is entered.
In an <code>edit-group</code> it allows to create initial members of the group and populate them with specified data.</p>
</dd>
<dt class="hdlist1">$optional</dt>
<dd>
<p><code>$optional</code> is a boolean attribute.
If it is <code>true</code> and the field is empty in the form, then this field will not be generated in the formula data and the generated dictionary will not contain the field name key.
If <code>$optional</code> is <code>false</code> and the field is empty, the formula data will contain a <code>&lt;field name&gt;: null</code> entry.</p>
</dd>
<dt class="hdlist1">$ifEmpty</dt>
<dd>
<p>The value to be used if the field is empty (because the user did not input
any value).
<code>ifEmpty</code> can only be used when <code>$optional</code> is <code>false</code> or not defined at all!
If <code>$optional</code> is <code>true</code>, then <code>$ifEmpty</code> is ignored.
In the following example, the <code>DP2</code> string would be used if user leaves the field empty:</p>
<div class="listingblock">
<div class="content">
<pre>displayName:
  $type: string
  $ifEmpty: DP2</pre>
</div>
</div>
</dd>
<dt class="hdlist1">$name</dt>
<dd>
<p><code>$name</code> allows you to specify the name of a value that is shown in the form.
If this value is not set, the pillar name is used and capitalized without underscores and dashes.
You reference it in the same section with <code>${name}</code>.</p>
</dd>
<dt class="hdlist1">$help and $placeholder</dt>
<dd>
<p>The <code>$help</code> and <code>$placeholder</code> attributes are used to give a user a better understanding of what the value should be.</p>
<div class="ulist">
<ul>
<li>
<p><code>$help</code> defines the message a user sees when hovering over a field</p>
</li>
<li>
<p><code>$placeholder</code> displays a gray placeholder text in the field</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p><code>$placeholder</code> may only be used with text fields like text, password, email or date.
It does not make sense to add a placeholder if you also use <code>$default</code> as this will hide the placeholder.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">$key</dt>
<dd>
<p><code>$key</code> is applicable if the <code>edit-group</code> has the "shape" of a dictionary; you use it when the pillar data is supposed to be a dictionary.
The <code>$key</code> attribute then determines the key of an entry in the dictionary.
Example:</p>
<div class="listingblock">
<div class="content">
<pre>user_passwords:
  $type: edit-group
  $minItems: 1
  $prototype:
    $key:
        $type: text
    $type: text
  $default:
    alice: secret-password
    bob: you-shall-not-pass</pre>
</div>
</div>
<div class="paragraph">
<p>Pillar:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>user_passwords:
  alice:
    secret-password
  bob:
    you-shall-not-pass</pre>
</div>
</div>
</dd>
<dt class="hdlist1">$minItems and $maxItems</dt>
<dd>
<p>In an <code>edit-group</code>, <code>$minItems</code> and <code>$maxItems</code> allow you to specify the lowest and highest number the group can occur.</p>
</dd>
<dt class="hdlist1">$itemName</dt>
<dd>
<p>In an <code>edit-group</code>, <code>$itemName</code> allows you to define a template for the name to be used for the members of the group.</p>
</dd>
<dt class="hdlist1">$prototype</dt>
<dd>
<p>In an <code>edit-group</code>, <code>$prototype</code> is mandatory and allows to define default (or pre-filled) values for newly added members in the group.</p>
</dd>
<dt class="hdlist1">$scope</dt>
<dd>
<p><code>$scope</code> allows you to specify a hierarchy level at which a value may be edited.
Possible values are <code>system</code>, <code>group</code>, and <code>readonly</code>.</p>
<div class="paragraph">
<p>The default <code>$scope: system</code> allows values to be edited at group and system levels.
A value can be entered for each system but if no value is entered the system will fall back to the group default.</p>
</div>
<div class="paragraph">
<p>If using <code>$scope: group</code>, a value may only be edited for a group.
On the system level you will be able to see the value, but not edit it.</p>
</div>
<div class="paragraph">
<p>The <code>$scope: readonly</code> option makes a field read-only.
It can be used to show a user data which should be known, but should not be editable.
This option only makes sense in combination with the <code>$default</code> attribute.</p>
</div>
</dd>
<dt class="hdlist1">$visibleIf</dt>
<dd>
<p><code>$visibleIf</code> allows you to show a field or group if a simple condition is met.
A condition always looks similar to the following example:</p>
<div class="listingblock">
<div class="content">
<pre>some_group#another_group#my_checkbox == true</pre>
</div>
</div>
<div class="paragraph">
<p>The left part of the above statement is the path to another value, and groups are separated by <code>$</code> signs.
The middle section of the command should be either <code>==</code> for a value to be equal or <code>!=</code> for values that should be not equal.
The last field in the statement can be any value which a field should have or not have.</p>
</div>
<div class="paragraph">
<p>The field with this attribute associated with it will now be shown only when the condition is met.
In this example the field will be shown only if <code>my_checkbox</code> is checked.
The ability to use conditional statements is not limited to check boxes.
It may also be used to check values of select-fields, text-fields, etc.</p>
</div>
<div class="paragraph">
<p>A check box should be structured like the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>some_group:
  $type: group

  another_group:
    $type: group

      my_checkbox:
        $type: boolean</pre>
</div>
</div>
<div class="paragraph">
<p>Relative paths can be specified using prefix dots. One dot means sibling, 2 dots mean parent, etc. This is mostly useful for <code>edit-group</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>some_group:
  $type: group

  another_group:
    $type: group

    my_checkbox:
      $type: boolean

    my_text:
      $visibleIf: .my_checkbox

  yet_another_group:
    $type: group

    my_text2:
      $visibleIf: ..another_group#my_checkbox</pre>
</div>
</div>
<div class="paragraph">
<p>By using multiple groups with the attribute, you can allow a user to select an option and show a completely different form, dependent upon the selected value.</p>
</div>
<div class="paragraph">
<p>Values from hidden fields may be merged into the pillar data and sent to the minion.
A formula must check the condition again and use the appropriate data.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>show_option:
  $type: checkbox
some_text:
  $visibleIf: show_option == true</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>{% if pillar.show_option %}
do_something:
  with: {{ pillar.some_text }}
{% endif %}</pre>
</div>
</div>
</dd>
<dt class="hdlist1">$values</dt>
<dd>
<p><code>$values</code> can only be used together with <code>$type</code>: select to specify the different options in the select-field.
<code>$values</code> must be a list of possible values to select.
For example:</p>
<div class="listingblock">
<div class="content">
<pre>select_something:
  $type: select
  $values: ["option1", "option2"]</pre>
</div>
</div>
<div class="paragraph">
<p>Or alternatively:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>select_something:
  $type: select
  $values:
    - option1
    - option2</pre>
</div>
</div>
</dd>
</dl>
</div>
<div class="sect2">
<h3 id="salt.formulas.ex.edit-group"><a class="anchor" href="#salt.formulas.ex.edit-group"></a><a class="link" href="#salt.formulas.ex.edit-group">Simple edit-group Example</a></h3>
<div class="paragraph">
<p>See the following <strong>edit-group</strong> example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>partitions:
  $name: "Hard Disk Partitions"
  $type: "edit-group"
  $minItems: 1
  $maxItems: 4
  $itemName: "Partition ${name}"
  $prototype:
    name:
      $default: "New partition"
    mountpoint:
      $default: "/var"
    size:
      $type: "number"
      $name: "Size in GB"
  $default:
    - name: "Boot"
      mountpoint: "/boot"
    - name: "Root"
      mountpoint: "/"
      size: 5000</pre>
</div>
</div>
<div class="paragraph">
<p>After clicking <b class="button">Add</b> for one time you will see <a href="#fig-formula-custom-harddisk-partitions"><code>edit-group</code> Example in the WebÂ UI</a> filled with the default values.
The formula itself is called <code class="path">hd-partitions</code> and will appear as <code class="guimenu">Hd Partitions</code> in the WebÂ UI.</p>
</div>
<div id="fig-formula-custom-harddisk-partitions" class="imageblock">
<div class="content">
<img src="_images/formula-custom-harddisk-partitions.png" alt="formula custom harddisk partitions">
</div>
<div class="title">Figure 1. <code>edit-group</code> Example in the WebÂ UI</div>
</div>
<div class="paragraph">
<p>To remove the definition of a partition click the minus symbol in the title line of an inner group.
When form fields are properly filled confirm with clicking <b class="button">Save Formula</b> in the upper right corner of the formula.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="best.practice.salt.formulas.writing"><a class="anchor" href="#best.practice.salt.formulas.writing"></a><a class="link" href="#best.practice.salt.formulas.writing">Writing Salt Formulas</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Salt formulas are pre-written Salt states, which may be configured with pillar data.
You can parametrize state files using Jinja.
Jinja allows you to access pillar data by using the following syntax.
This syntax works best when you are uncertain whether a pillar value exists as it will throw an error:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>pillar.some.value</pre>
</div>
</div>
<div class="paragraph">
<p>When you are sure a pillar exists you may also use the following syntax:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>salt['pillar.get']('some:value', 'default value')</pre>
</div>
</div>
<div class="paragraph">
<p>You may also replace the <code>pillar</code> value with <code>grains</code> (for example, <code>grains.some.value</code>) allowing access to grains.</p>
</div>
<div class="paragraph">
<p>Using data this way allows you to make a formula configurable.
The following code snippet will install a package specified in the pillar <code>package_name</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>install_a_package:
  pkg.installed:
    - name: {{ pillar.package_name }}</pre>
</div>
</div>
<div class="paragraph">
<p>You may also use more complex constructs such as <code>if/else</code> and <code>for-loops</code> to provide greater functionality:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{% if pillar.installSomething %}
something:
  pkg.installed
{% else %}
anotherPackage:
  pkg.installed
{% endif %}</pre>
</div>
</div>
<div class="paragraph">
<p>Another example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{% for service in pillar.services %}
start_{{ service }}:
  service.running:
    - name: {{ service }}
{% endfor %}</pre>
</div>
</div>
<div class="paragraph">
<p>Jinja also provides other helpful functions.
For example, you can iterate over a dictionary:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{% for key, value in some_dictionary.items() %}
do_something_with_{{ key }}: {{ value }}
{% endfor %}</pre>
</div>
</div>
<div class="paragraph">
<p>You may want to have Salt manage your files (for example, configuration files for a program), and you can change these with pillar data.
For example, the following snippet shows how you can manage a file using Salt:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>/etc/my_program/my_program.conf:
  file.managed:
    - source: salt://my_state/files/my_program.conf
    - template: jinja</pre>
</div>
</div>
<div class="paragraph">
<p>Salt will copy the file <code class="path">salt-file_roots/my_state/files/my_program.conf</code> on the salt master to <code class="path">/etc/my_program/my_program.conf</code> on the minion and template it with Jinja.
This allows you to use Jinja in the file, exactly like shown above for states:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>some_config_option = {{ pillar.config_option_a }}</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="best.practice.salt.formulas.data"><a class="anchor" href="#best.practice.salt.formulas.data"></a><a class="link" href="#best.practice.salt.formulas.data">Separating Data</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is often a good idea to separate data from a state to increase its flexibility and add re-usability value.
This is often done by writing values into a separate file named <code class="path">map.jinja</code>.
This file should be placed within the same directory as your state files.</p>
</div>
<div class="paragraph">
<p>The following example will set <code>data</code> to a dictionary with different values, depending on which system the state runs on.
It will also merge data with the pillar using the <code>some.pillar.data</code> value so you can access <code>some.pillar.data.value</code> by just using <code>data.value</code>.</p>
</div>
<div class="paragraph">
<p>You can also choose to override defined values from pillars (for example, by overriding <code>some.pillar.data.package</code> in the example).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{% set data = salt['grains.filter_by']({
    'Suse': {
        'package': 'packageA',
        'service': 'serviceA'
    },
    'RedHat': {
        'package': 'package_a',
        'service': 'service_a'
    }
}, merge=salt['pillar.get']('some:pillar:data')) %}</pre>
</div>
</div>
<div class="paragraph">
<p>After creating a map file like the above example, you can maintain compatibility with multiple system types while accessing "deep" pillar data in a simpler way.
Now you can import and use <code>data</code> in any file.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{% from "some_folder/map.jinja" import data with context %}

install_package_a:
  pkg.installed:
    - name: {{ data.package }}</pre>
</div>
</div>
<div class="paragraph">
<p>You can also define multiple variables by copying the <code>{% set &#8230;&#8203;%}</code> statement with different values and then merge it with other pillars.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{% set server = salt['grains.filter_by']({
    'Suse': {
        'package': 'my-server-pkg'
    }
}, merge=salt['pillar.get']('myFormula:server')) %}
{% set client = salt['grains.filter_by']({
    'Suse': {
        'package': 'my-client-pkg'
    }
}, merge=salt['pillar.get']('myFormula:client')) %}</pre>
</div>
</div>
<div class="paragraph">
<p>To import multiple variables, separate them with a comma.
For Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{% from "map.jinja" import server, client with context %}</pre>
</div>
</div>
<div class="paragraph">
<p>Formulas utilized with Uyuni should follow formula conventions listed in the official documentation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.saltstack.com/en/latest/topics/development/conventions/formulas.html" class="bare">https://docs.saltstack.com/en/latest/topics/development/conventions/formulas.html</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="best.practice.salt.formulas.pillardata"><a class="anchor" href="#best.practice.salt.formulas.pillardata"></a><a class="link" href="#best.practice.salt.formulas.pillardata">Uyuni Generated Pillar Data</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>When pillar data is generated (for example, after applying the highstate) the following external pillar script generates pillar data for packages, group ids, etc. and includes all pillar data for a system:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>/usr/share/susemanager/modules/pillar/suma_minion.py</pre>
</div>
</div>
<div class="paragraph">
<p>The process is executed as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The <code>suma_minion.py</code> script starts and finds all formulas for a system (by checking the <code>group_formulas.json</code> and <code>server_formulas.json</code> files).</p>
</li>
<li>
<p><code>suma_minion.py</code> loads the values for each formula (groups and from the system) and merges them with the highstate (default: if no values are found, a group overrides a system if $scope: group etc.).</p>
</li>
<li>
<p><code>suma_minion.py</code> also includes a list of formulas applied to the system in a pillar named formulas.
This structure makes it possible to include states.
The top file (in this case specifically generated by the <code>mgr_master_tops.py</code> script) includes a state called formulas for each system.
This includes the <code>formulas.sls</code> file located in:</p>
<div class="listingblock">
<div class="content">
<pre>/usr/share/susemanager/formulas/states/</pre>
</div>
</div>
<div class="paragraph">
<p>The content looks similar to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>include: {{ pillar["formulas"] }}</pre>
</div>
</div>
<div class="paragraph">
<p>This pillar includes all formulas, that are specified in pillar data generated from the external pillar script.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="best.practice.salt.formulas.req"><a class="anchor" href="#best.practice.salt.formulas.req"></a><a class="link" href="#best.practice.salt.formulas.req">Formula Requirements</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Formulas should be designed/created directly after a Uyuni installation, but if you encounter any issues check the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The external pillar script (<code>suma_minion.py</code>) must include formula data.</p>
</li>
<li>
<p>Data is saved to <code class="path">/srv/susemanager/formula_data</code> and the <code class="path">pillar</code> and <code class="path">group_pillar</code> sub-directories.
These should be automatically generated by the server.</p>
</li>
<li>
<p>Formulas must be included for every minion listed in the top file.
Currently this process is initiated by the <code class="path">mgr_master_tops.py</code> script which includes the <code>formulas.sls</code> file located in:</p>
<div class="listingblock">
<div class="content">
<pre>/usr/share/susemanager/formulas/states/</pre>
</div>
</div>
<div class="paragraph">
<p>This directory must be a salt file root.
File roots are configured on the salt-master (Uyuni) located in:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>/etc/salt/master.d/susemanager.conf</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="best.practice.salt.formulas.using"><a class="anchor" href="#best.practice.salt.formulas.using"></a><a class="link" href="#best.practice.salt.formulas.using">Using Salt Formulas with Uyuni</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following procedure provides an overview on using Salt Formulas with Uyuni.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Official formulas may be installed as RPMs.
Place the custom states within <code class="path">/srv/salt/your-formula-name/</code> and the metadata (<code class="path">form.yml</code> and <code class="path">metadata.yml</code>) in <code class="path">/srv/formula_metadata/your-formula-name/</code>.
After installing your formulas they will appear in <span class="menuseq"><b class="menu">Salt</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Formula Catalog</b></span>.</p>
</li>
<li>
<p>To begin using a formula, apply it to a group or system.
Apply a formula to a group or system by selecting the <span class="menuseq"><b class="menu">System Details</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Formulas</b></span> tab of a <code class="guimenu">System Details</code> page or <code class="guimenu">System Group</code>. From the <span class="menuseq"><b class="menu">System Details</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Formulas</b></span> page you can select any formulas you wish to apply to a group or system.
Click the <b class="button">Save</b> button to save your changes to the database.</p>
</li>
<li>
<p>After applying one or more formulas to a group or system, additional tabs will become available from the top menu, one for each formula selected.
From these tabs you may configure your formulas.</p>
</li>
<li>
<p>When you have finished customizing your formula values you will need to apply the highstate for them to take effect.
Applying the highstate will execute the state associated with the formula and configure targeted systems.
You can use the <b class="button">Apply Highstate</b> button from any formulas page of a group.</p>
</li>
<li>
<p>When a change to any of your values is required or you need to re-apply the formula state because of a failure or bug, change values located on your formula pages and re-apply the highstate.
Salt will ensure that only modified values are adjusted and restart or reinstall services only when necessary.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This conclude your introduction to Salt Formulas.
For additional information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.saltstack.com/en/latest/topics/development/conventions/formulas.html" class="bare">https://docs.saltstack.com/en/latest/topics/development/conventions/formulas.html</a></p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#">:retail:retail-formulas</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="bp.saltforms.susemgr"><a class="anchor" href="#bp.saltforms.susemgr"></a><a class="link" href="#bp.saltforms.susemgr">Salt Formulas Coming with SUSE Manager</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>For general information, see the <code>Salt Formulas installation and usage instructions</code> at <a href="https://docs.saltstack.com/en/latest/topics/development/conventions/formulas.html" class="bare">https://docs.saltstack.com/en/latest/topics/development/conventions/formulas.html</a>.</p>
</div>
<div class="sect2">
<h3 id="bp.saltforms.susemgr.locale"><a class="anchor" href="#bp.saltforms.susemgr.locale"></a><a class="link" href="#bp.saltforms.susemgr.locale">Locale</a></h3>
<div class="paragraph">
<p>The locale formula allows setting <code class="guimenu">Timezone` and [guimenu]</code>Keyboard and Language`.</p>
</div>
</div>
<div class="sect2">
<h3 id="bp.saltforms.susemgr.dns"><a class="anchor" href="#bp.saltforms.susemgr.dns"></a><a class="link" href="#bp.saltforms.susemgr.dns">Domain Name System (Bind)</a></h3>
<div class="paragraph">
<p>With the bind formula you set up and configure a Domain Name System (DNS) server.
For technical information about the bind formula and low-level pillar data, see the <code class="path">README.rst</code> file on the Uyuni server: <code class="path">/usr/share/susemanager/formulas/metadata/bind/README.rst</code>.</p>
</div>
<div class="paragraph">
<p>DNS is needed to resolve the domain names and host names into IP addresses.
For more information about DNS, see the SLES Administration Guide, Services, The Domain Name System.</p>
</div>
<div id="fig-formula-bind-01" class="imageblock">
<div class="content">
<img src="_images/formula-bind-01.png" alt="formula bind 01">
</div>
<div class="title">Figure 2. Bind Formula</div>
</div>
<div class="paragraph">
<p>In the <code class="guimenu">Config</code> group you can set arbitrary options such as <code>directory</code> where are the zone data files (usually <code class="path">/var/lib/named/</code>) or  <code>forwarders</code>.
Click <b class="button">Add Item</b> to provide more Key/Value fields for configuration.</p>
</div>
<div class="paragraph">
<p>Check <code>Include Forwarders</code> if you want to rely on an external DNS server if your DNS is down (or is otherwise not able to resolve an address).</p>
</div>
<div class="paragraph">
<p>At least, you will configure one zone.  In <code>Configured Zones</code> define
your zone; for example, <code>example.com</code>.  Then in <code>Available Zones</code>
configure this zone: as <code>Name</code> enter your zone (in this case
<code>example.com</code>) and the <code>File</code> to which this configuration should be
written (<code>example.com.txt</code>).  Enter the mandatory <code>SOA</code> record (start
of authority), and the A, NS, and CNAME <code>Records</code> you need.</p>
</div>
<div class="paragraph">
<p>On the other hand, if no <code>records</code> entry exists, the zone file is not generated by this state rather than taken from <code>salt://zones</code>.  For how to overwrite
this URL, see <code class="path">pillar.example</code>.</p>
</div>
<div id="fig-formula-bind-02" class="imageblock">
<div class="content">
<img src="_images/formula-bind-02-zones.png" alt="formula bind 02 zones">
</div>
<div class="title">Figure 3. bind-02-zones</div>
</div>
<div id="fig-formula-bind-03" class="imageblock">
<div class="content">
<img src="_images/formula-bind-03-records.png" alt="formula bind 03 records">
</div>
<div class="title">Figure 4. bind-03-records</div>
</div>
<div id="fig-formula-bind-03-2" class="imageblock">
<div class="content">
<img src="_images/formula-bind-03-records2.png" alt="formula bind 03 records2">
</div>
<div class="title">Figure 5. bind-03-records2</div>
</div>
<div class="paragraph">
<p>In <code>Generate Reverse</code>, and define reverse mapping and for which zones:</p>
</div>
<div id="fig-formula-bind-04" class="imageblock">
<div class="content">
<img src="_images/formula-bind-04-reverse.png" alt="formula bind 04 reverse">
</div>
<div class="title">Figure 6. bind-04-reverse</div>
</div>
<div class="paragraph">
<p>When saved, data is written to <code class="path">/srv/susemanager/formula_data/pillar/&lt;salt-minion.example.com&gt;_bind.json</code>.</p>
</div>
<div class="paragraph">
<p>If you apply the highstate (<span class="menuseq"><b class="menu">System Details</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">States</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Highstate</b></span>), it first ensures that <code class="package">bind</code> and all required packages will get installed.
Then it will start the DNS service (<code>named</code>).</p>
</div>
</div>
<div class="sect2">
<h3 id="bp.saltforms.susemgr.dhcp"><a class="anchor" href="#bp.saltforms.susemgr.dhcp"></a><a class="link" href="#bp.saltforms.susemgr.dhcp">Dhcpd</a></h3>
<div class="paragraph">
<p>With the dhcpd formula you set up and configure a DHCP server (Dynamic Host Configuration Protocol).
For technical information about the dhcpd formula and low-level pillar data, see the Pillar example file
<code class="path">/usr/share/susemanager/formulas/metadata/dhcpd/pillar.example</code>.</p>
</div>
<div class="paragraph">
<p>DHCP is needed to define network settings centrally (on a server) and let clients retrieve and use this information for local host configuration.
For more information about DHCP, see the SLES Administration Guide, Services, DHCP.</p>
</div>
<div id="fig-formula-dhcpd-01" class="imageblock">
<div class="content">
<img src="_images/formula-dhcpd-01.png" alt="formula dhcpd 01">
</div>
<div class="title">Figure 7. dhcpd formula</div>
</div>
<div class="paragraph">
<p>Domain Name.</p>
</div>
<div class="paragraph">
<p><code>Domain Name Servers</code>.  One or more Domain Name Service (DNS) servers.</p>
</div>
<div class="paragraph">
<p>On which interface(s) the DHCP server should listen (<code>Listen interfaces</code>).
Set option for this interface:
Authoritative:
Max Lease Time:
Default Lease Time:</p>
</div>
<div class="paragraph">
<p>Next is at least one network in the <code>Network configuration (subnet)</code> group (with IP address, netmask, etc.).  You define every network with <code>Dynamic IP range</code>, <code>Routers</code>, and <code>Hosts with static IP addresses (with defaults from subnet)</code> (optionally).</p>
</div>
<div class="paragraph">
<p>And finally <code>Hosts with static IP addresses (with global defaults)</code>.</p>
</div>
<div class="paragraph">
<p>If you apply the highstate (<span class="menuseq"><b class="menu">System Details</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">States</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Highstate</b></span>), it first ensures that <code class="package">dhcp-server</code> and all required packages will get installed.
Then it will start the DHCP service (<code>dhcpd</code>).</p>
</div>
</div>
<div class="sect2">
<h3 id="bp.saltforms.susemgr.tftp"><a class="anchor" href="#bp.saltforms.susemgr.tftp"></a><a class="link" href="#bp.saltforms.susemgr.tftp">Tftpd</a></h3>
<div class="paragraph">
<p>With the tftpd formula you set up and configure a TFTP server (Trivial File Transfer Protocol).
A TFTP server is a component that provides infrastructure for booting with PXE.</p>
</div>
<div class="paragraph">
<p>For more information about setting up TFTP, see the SLES Deployment Guide, Preparing Network Boot Environment, Setting Up a TFTP Server.</p>
</div>
<div id="fig-formula-tftpd-01" class="imageblock">
<div class="content">
<img src="_images/formula-tftpd-01.png" alt="formula tftpd 01">
</div>
<div class="title">Figure 8. tftpd formula</div>
</div>
<div class="paragraph">
<p>For setting up a TFTP server, specify the <code>Internal Network Address</code>, <code>TFTP base directory</code> (default: <code class="path">/srv/tftpboot</code>), and <code>run TFTP under user</code> (default: <code class="systemitem">sftp</code>).</p>
</div>
<div class="paragraph">
<p>If you apply the highstate (<span class="menuseq"><b class="menu">System Details</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">States</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Highstate</b></span>), it first ensures that <code class="package">atftp</code> and all required packages will get installed.
Then it will start TFTP (<code>atftpd</code>).</p>
</div>
</div>
<div class="sect2">
<h3 id="bp.saltforms.susemgr.vsftp"><a class="anchor" href="#bp.saltforms.susemgr.vsftp"></a><a class="link" href="#bp.saltforms.susemgr.vsftp">Vsftpd</a></h3>
<div class="paragraph">
<p>With the vsftpd formula you set up and configure Vsftpd.  Vsftpd is an FTP server or daemon, written with security in mind.  "vs" in its name stands for "Very Secure".</p>
</div>
<div id="fig-formula-vsftpd-01" class="imageblock">
<div class="content">
<img src="_images/formula-vsftpd-01.png" alt="formula vsftpd 01">
</div>
<div class="title">Figure 9. vsftpd formula</div>
</div>
<div class="paragraph">
<p>For configuring a VSFTP server, specify the settings and options in the Vsftpd formula.
There are settings such as
<code>FTP server directory</code>,
<code>Internal Network Address</code>
<code>Enable ssl</code>, etc.</p>
</div>
<div class="paragraph">
<p>If you apply the highstate (<span class="menuseq"><b class="menu">System Details</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">States</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Highstate</b></span>), it first ensures that <code class="package">vsftpd</code> and all required packages will get installed.
Then it will start the VSFTP service (<code>vsftpd</code>).</p>
</div>
<div class="paragraph">
<p>For more information about setting up and tuning Vsftpd, see the documentation coming with the <code class="package">vsftpd</code> package (<code class="path">/usr/share/doc/packages/vsftpd/</code> when the package is installed).</p>
</div>
</div>
</div>
</div>
</article>
  </main>
</div>
<footer class="footer">
  <p>Copyright (C) 2017-2018 <a href="https://www.uyuni-project.org/uyuni-docs/">Uyuni</a></p>
</footer>
<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js -->
<script>
function focusSearchInput () { document.querySelector('#search-input').focus() }
var search = docsearch({
  appId: 'ACJQNNCCNW',
  apiKey: '3d267136262088e4a66b3ee77fa32b87',
  indexName: 'uyuni-project',
  inputSelector: '#search-input',
  autocompleteOptions: { hint: false, keyboardShortcuts: ['s'] },
  algoliaOptions: { hitsPerPage: 10 }
}).autocomplete;
search.on('autocomplete:closed', function () { search.autocomplete.setVal() });
focusSearchInput();
window.addEventListener('load', focusSearchInput)
</script>
<script src="../../../_/js/site.js"></script>
<script src="../../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
  </body>
</html>
