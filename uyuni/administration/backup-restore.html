<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Backup and Restore :: Uyuni Documentation</title>
    <link rel="canonical" href="https://www.uyuni-project.org/uyuni-docs/uyuni/administration/backup-restore.html">
    <meta name="generator" content="Antora 2.0.0">
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="stylesheet" href="../../_/css/site-extra.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css">
    <!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css -->
    <link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <a href="https://opensource.suse.com/doc-susemanager/">Uyuni</a>
        <span class="separator">//</span>
        <a href="https://www.uyuni-project.org/uyuni-docs">Documentation</a>
      </div>
      <div class="navbar-item">
        <input id="search-input" type="text" placeholder="Search docs">
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <div class="navbar-link">Projects</div>
          <div class="navbar-dropdown">
            <div class="navbar-item"><strong>Resources</strong></div>
            <a class="navbar-item" href="https://github.com/uyuni-project/uyuni-docs">Repository</a>
            <a class="navbar-item" href="https://github.com/uyuni-project/uyuni-docs/issues">Issue Tracker</a>
<!--
            <hr class="navbar-divider">
            <div class="navbar-item"><strong>Custom UI (coming soon!)</strong></div>
            <a class="navbar-item" href="https://gitlab.com/antora/antora-ui-default">Repository</a>
            <a class="navbar-item" href="https://gitlab.com/antora/antora-ui-default/issues">Issue Tracker</a>
            <hr class="navbar-divider">

            <a class="navbar-item" href="https://github.com/SUSE/doc-susemanager/wiki/Asciidoc-getting-started">Contributing</a>
          </div>
        </div>
           -->
              <!--
        <div class="navbar-item has-dropdown is-hoverable">
          <div class="navbar-link">Community</div>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://gitter.im/uyuniproject/users">Uyuni Chat (Users)</a>
            <a class="navbar-item" href="https://gitter.im/uyuniproject/develop">Uyuni Chat (Dev)</a>
          </div>
        </div>
        -->
          </div>
        </div>
        <a class="navbar-item" href="https://twitter.com/uyuniproject?lang=de">
          <span class="icon">
            <svg aria-hidden="true" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
              <path fill="#57aaee" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path>
            </svg>
          </span>
        </a>
      </div>
    </div>
  </nav>
</header>
<div class="main-wrapper">
<div class="navigation-container" data-component="uyuni" data-version="master">
  <aside class="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index-uyuni.html">Uyuni</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../release-notes-version-4.0.html">Release Notes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Installation Guide</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/install-intro.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Requirements</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/general-requirements.html">General Requirements</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/hardware-requirements.html">Hardware Requirements</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/network-requirements.html">Network Requirements</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/client-requirements.html">Supported Clients</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Installation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/install-vm.html">Install VM</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/install-server.html">Install Server</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/install-proxy.html">Install Proxy</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/install-ibmz.html">Install on IBM Z</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Setting Up</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/server-setup.html">Server Setup</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/proxy-setup.html">Proxy Setup</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/common_gfdl1.2_i.html">License</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../client-configuration/client-config-overview.html">Client Configuration Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../client-configuration/manual-registration-overview.html">Registration Overview</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/registration-webui.html">Registering with the Web UI</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/registration-bootstrap.html">Registering with Bootstrap</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../client-configuration/client-proxy.html">Registering Clients on a Proxy</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/salt-client-proxy.html">Registering with the Web UI on a Proxy</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/script-client-proxy.html">Registering with Bootstrap on a Proxy</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../client-configuration/autoinstallation-methods.html">Automating Client Installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/autoyast.html">AutoYaST</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/kickstart.html">Kickstart</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/cobbler.html">Cobbler</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/disconnected-setup.html">Disconnected Setup</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="#non-suse-clients">Other Clients</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/clients-rh.html">Red Hat Clients</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/clients-centos.html">CentOS Clients</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../client-configuration/clients-ubuntu.html">Ubuntu Clients</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../client-configuration/clients-and-activation-keys.html">Activation Keys</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../client-configuration/channels.html">Channels</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../client-configuration/creating-a-tools-repository.html">Creating a Tools Repository</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../client-configuration/contact-methods.html">Client Contact Methods</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../client-configuration/using-ssm.html">Using the System Set Manager</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../client-configuration/tshoot-clients.html">Troubleshooting Clients</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../client-configuration/common_gfdl1.2_i.html">License</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../upgrade/upgrade-overview.html">Upgrade Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/server-upgrade.html">Server Update</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/migrate-2x-3x.html">Server Upgrade 2.x &#8594; 3.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/migrate-3x-3x.html">Server Upgrade 3.x &#8594; 3.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/migrate-3x-4x.html">Server Upgrade 3.x &#8594; 4.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/client-migration.html">Client Migration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../upgrade/sp-migration.html">Service Pack Migration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../upgrade/performing-an-sp-migration.html">Performing an SP Migration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/db-migration.html">Database Migration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/maintenance-window-tasks.html">Maintenance Window Tasks</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/troubleshooting-upgrades-and-migrations.html">Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/upgrade-script-example.html">Example Script for Automated Upgrades</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/common_gfdl1.2_i.html">License</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/intro.html">Reference Manual</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">WebUI Reference</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/navigation/navigation-menu.html">Navigation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/navigation/top-bar.html">Top Bar</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/navigation/left-navigation-bar.html">Left Navigation Bar</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/navigation/categories-and-pages.html">Main Menu Categories</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/navigation/tabs-subtabs.html">Tabs and Subtabs</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/navigation/patch-alert-icons.html">Patch Alert Icons</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/navigation/notification-messages-icon.html">Notification Messages Icon</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/navigation/navigation-search.html">Search</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/navigation/systems-selected.html">Systems Selected</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/navigation/navigation-lists.html">Navigation Lists</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/home/home-menu.html">Home</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/home/home-overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/home/home-notification-messages.html">Notification Messages</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/home/user-account-menu.html">User Account Menu</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/home/user-account-my-account.html">My Account</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/home/user-account-addresses.html">Addresses</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/home/user-account-change-email.html">Change Email</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/home/user-account-account-deactivation.html">Account Deactivation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/home/home-my-preferences.html">My Preferences</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/home/my-organization-menu.html">My Organization</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/home/my-organization-configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/home/my-organization-trusts.html">Organization Trusts</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/home/my-organization-configuration-channels.html">Configuration Channels</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/systems/systems-menu.html">Systems</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/systems/systems-overview.html">Systems Overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/systems/system-details.html">System Details</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/system-details/sd-properties.html">Properties</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/system-details/sd-remote-command.html">Remote Command</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/system-details/sd-reactivation.html">Reactivation</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/system-details/sd-hardware.html">Hardware</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/system-details/sd-migrate.html">Migrate</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/system-details/sd-notes.html">Notes</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/system-details/sd-custom-info.html">Custom Info</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/system-details/sd-proxy.html">Proxy</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/system-details/sd-software.html">Software</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/system-details/sd-patches.html">Patches</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/system-details/sd-packages.html">Packages</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/system-details/sd-software-channels.html">Software Channels</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/system-details/sd-sp-migration.html">Service Pack Migration</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/system-details/sd-configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/system-details/sd-provisioning.html">Provisioning</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/system-details/sd-groups.html">Groups</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/system-details/sd-virtualization.html">Virtualization</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/system-details/sd-audit.html">Audit</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/system-details/sd-states.html">States</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/system-details/sd-formulas.html">Formulas</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/system-details/sd-events.html">Events</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/systems/systems-list.html">Systems List</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/systems/system-groups.html">System Groups</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/systems/ssm-menu.html">System Set Manager</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/ssm-overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/ssm-task-log.html">Task Log</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/systems/bootstrapping.html">Bootstrapping</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/systems/visualization-menu.html">Visualization</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/virtualization-hierarchy.html">Virtualization Hierarchy</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/proxy-hierarchy.html">Proxy Hierarchy</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/systems-grouping.html">Systems Grouping</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/systems/advanced-search.html">Advanced Search</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/systems/activation-keys.html">Activation Keys</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/systems/stored-profiles.html">Stored Profiles</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/systems/custom-system-info.html">Custom System Info</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/systems/autoinst-menu.html">Autoinstallation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/autoinst-overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/autoinst-profiles.html">Profiles</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/autoinst-profile-details.html">Profile Details</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/autoinst-unprovisioned.html">Unprovisioned</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/autoinst-gpg-and-ssl-keys.html">GPG and SSL Keys</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/autoinst-distributions.html">Distributions</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/autoinst-file-preservation.html">File Preservation</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/systems/autoinst-snippets.html">Autoinstallation Snipppets</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/systems/virtual-host-managers.html">Virtual Host Managers</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/salt/salt-menu.html">Salt</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/salt/salt-keys.html">Keys</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/salt/salt-remote-commands.html">Remote Commands</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/salt/salt-formula-catalog.html">Formula Catalog</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/images/images-menu.html">Images</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/images/images-image-list.html">Image List</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/images/images-build.html">Build</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/images/images-profiles.html">Profiles</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/images/images-stores.html">Stores</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/patches/patches-menu.html">Patches</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/patches/applying-patches.html">Applying Patches</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/patches/patch-details.html">Patch Details</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <span class="nav-text">Patch List</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/patches/patch-list-relevant.html">Relevant</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/patches/patch-list-all.html">All</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/patches/patches-advanced-search.html">Advanced Search</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/patches/manage-patches.html">Manage Patches</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/patches/create-and-edit-patches.html">Create and Edit Patches</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/patches/manage-patches-published.html">Published</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/patches/manage-patches-unpublished.html">Unpublished</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/patches/clone-patches.html">Clone Patches</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/software/software-menu.html">Software</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/software/channel-details.html">Channel Details</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/software/software-channel-list-menu.html">Channel List</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/software/software-channel-list-filters.html">Channel Filters</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/software/software-package-search.html">Package Search</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/software/software-manage-menu.html">Manage</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/software/manage-channels.html">Channels</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/software/manage-packages.html">Packages</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/software/manage-repositories.html">Repositories</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/software/software-distribution-channel-mapping.html">Distribution Channel Mapping</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/clm/clm-menu.html">Content Lifecycle Management</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/clm/clm-projects.html">Projects</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/clm/clm-filters.html">Filters</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/audit/audit-menu.html">Audit</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/audit/system-details-audit.html">System Details Audit</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/audit/audit-cve-audit.html">CVE Audit</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/audit/audit-subscription-matching.html">Subscription Matching</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/audit/openscap-menu.html">OpenSCAP</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/audit/audit-openscap-overview.html">OpenSCAP Overview</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/audit/openscap-all-scans.html">All Scans</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/audit/openscap-xccdf-diff.html">XCCDF Diff</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/audit/openscap-advanced-search.html">Advanced Search</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/configuration/config-menu.html">Configuration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/configuration/config-overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/configuration/config-channels.html">Channels</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/configuration/config-files-menu.html">Files</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/configuration/files-centrally-managed.html">Centrally Managed</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/configuration/files-locally-managed.html">Locally Managed</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/configuration/config-systems-menu.html">Systems</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/configuration/config-systems-managed.html">Managed</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/configuration/config-systems-target.html">Target</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/schedule/schedule-menu.html">Schedule</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/schedule/pending-actions.html">Pending Actions</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/schedule/completed-actions.html">Completed Actions</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/schedule/archived-actions.html">Archived Actions</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/schedule/action-chains.html">Action Chains</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/users/users-menu.html">Users</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/users/user-details.html">User Details</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/users/users-list.html">Users List</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/users/active-users.html">Active Users</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/users/deactivated-users.html">Deactivated Users</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/users/all-users.html">All Users</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/users/system-group-configuration.html">System Group Configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/admin/admin-menu.html">Admin</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/admin/setup-wizard.html">Setup Wizard</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/admin/organizations.html">Organizations</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/admin/users.html">Users</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/admin/manager-configuration.html">Manager Configuration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/admin/general.html">General</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/admin/bootstrap-script.html">Bootstrap Script</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/admin/manager-config-organizations.html">Organizations</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/admin/restart.html">Restart</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/admin/cobbler.html">Cobbler</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/admin/bare-metal-systems.html">Bare-metal Systems</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/admin/iss-configuration.html">ISS Configuration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/admin/iss-master-setup.html">ISS Master Setup</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/admin/iss-slave-setup.html">ISS Slave Setup</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/admin/task-schedules.html">Task Schedules</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/admin/task-engine-status.html">Task Engine Status</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/admin/show-tomcat-logs.html">Show Tomcat Logs</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/help/help-menu.html">Help</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/help/documentation-version.html">Documentation Version</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/help/release-notes.html">Release Notes</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/help/api-menu.html">API</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/help/api-overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/help/api-faq.html">FAQ</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../reference/help/api-sample-scripts.html">Sample Scripts</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/spacecmd-intro.html">spacecmd Reference</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/spacecmd/configuring-spacecmd.html">Configuring spacecmd</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/spacecmd/spacecmd-help.html">Help</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/spacecmd/spacecmd-history.html">History</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../reference/spacecmd/troubleshooting-spacecmd.html">Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../reference/spacecmd/spacecmd-functions.html">spacecmd Functions</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/activationkey_.html">activationkey_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/api.html">api</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/clear.html">clear</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/clear_caches.html">clear_caches</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/configchannel_.html">configchannel_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/cryptokey_.html">cryptokey_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/custominfo_.html">custominfo_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/distribution_.html">distribution_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/errata_.html">errata_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/filepreservation_.html">filepreservation_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/get_.html">get_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/group_.html">group_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/kickstart_.html">kickstart_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/list_proxies.html">list_proxies</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/login.html">login</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/logout.html">logout</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/org_.html">org_</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../reference/spacecmd/package_.html">package_</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../reference/common_gfdl1.2_i.html">License</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="intro.html">Administration Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="image-management.html">Image Management</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="channel-management.html">Channel Management</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="live-patching.html">Live Patching</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="live-patching-sles15.html">Live Patching on SLES 15</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="live-patching-sles12.html">Live Patching on SLES 12</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="icinga.html">Icinga</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="kubernetes.html">Kubernetes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="virtual-hosts.html">Virtual Hosts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="iss.html">Inter-Server Synchronization</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Security</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="master-fingerprint.html">Master Fingerprint</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="repo-metadata.html">Repository Metadata</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mirror-sources.html">Mirror Sources</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="auth-methods.html">Authentication Methods</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="custom-ssl.html">Custom SSL Certificates</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="backup-restore.html">Backing Up and Restoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Tuning</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tuning-apachetomcat.html">Tuning Apache and Tomcat</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tuning-largedeploys.html">Tuning Large Deployments</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Maintenance Window</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="content-lifecycle.html">Content Lifecycle Management</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="tshoot-intro.html">Troubleshooting</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tshoot-corruptrepo.html">Troubleshooting Corrupt Repositories</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tshoot-diskspace.html">Troubleshooting Disk Space</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tshoot-localcert.html">Troubleshooting Local Certificates</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tshoot-osadjabberd.html">Troubleshooting OSAD and jabberd</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tshoot-packages.html">Troubleshooting Packages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tshoot-registerclones.html">Troubleshooting Registering Cloned Clients</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tshoot-rpctimeout.html">Troubleshooting RPC Timeouts</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="autoyast-example.html">AutoYaST Example</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="common_gfdl1.2_i.html">License</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Salt Guide</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../salt/salt-intro.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../salt/salt-terminology.html">Terminology</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../salt/salt-calls.html">Salt Calls</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../salt/salt-commands.html">Salt Commands</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../salt/salt-file-locations.html">File Locations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../salt/salt-config-management.html">Configuration Management</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../salt/salt-formulas.html">Salt Formulas</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../salt/salt-example-formula.html">Example Formula</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../salt/salt-ssh.html">SSH Integration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../salt/salt-rate-limiting.html">Rate Limiting</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../salt/scale-minions.html">Scaling Salt Minions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../salt/common_gfdl1.2_i.html">License</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../retail/retail-introduction.html">Retail Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../retail/retail-components.html">Components</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../retail/retail-install.html">Installing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../retail/retail-requirements.html">Requirements</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../retail/retail-install-unified.html">Installing with the Unified Installer</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../retail/retail-install-packages.html">Installing from Packages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../retail/retail-install-setup.html">Setting up</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../retail/retail-formulas.html">Formulas</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../retail/retail-admin.html">Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../retail/retail-delta-images.html">Delta Images</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../retail/retail-next.html">What Next?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../retail/retail-migration-intro.html">Retail Upgrade</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../retail/retail-prepare-migration.html">Prepare for Migration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../retail/retail-migration-slepostosuma.html">Migrate SLEPOS to SUMA</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../retail/common_gfdl1.2_i.html">License</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../architecture/architecture-intro.html">Architecture Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../architecture/architecture-legend.html">Legend</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../architecture/salt-overview.html">Salt</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt-core-components.html">Core Salt Components</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt-data-locations.html">Salt Data Locations</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt-contact-method-overview.html">Salt Contact Methods</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt-pull.html">Salt Pull</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt-ssh-push.html">Salt SSH Push</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt-ssh-push-tunnel.html">Salt SSH Push &amp; Tunnel</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt-bootstrapping-ui.html">Salt Bootstrapping WebUI</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt-onboarding-and-registration.html">Onboarding and Registration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../architecture/traditional-overview.html">Traditional</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/traditional-contact-method-overview.html">Contact Methods</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/traditional-rhnsd.html">rhnsd</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/traditional-osad.html">osad</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/traditional-ssh-push.html">SSH Push</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/traditional-ssh-pull.html">SSH Pull</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../architecture/repositories-overview.html">Repositories</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/pool-repositories.html">Pool Repositories</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/devel-repositories.html">Devel Repositories</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/tools-repositories.html">Tools Repositories</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/maintenance-repositories.html">Maintenance Repositories</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/syncing-repositories.html">Syncing Repositories</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../architecture/components-overview.html">Component Index</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/apache.html">Apache httpd</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/tomcat.html">Tomcat</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/python-xmlrpc-server.html">Python XMLRPC Server</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/taskomatic.html">Taskomatic</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/database.html">Database</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/mgr-sync.html">mgr-sync</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/spacewalk-repo-sync.html">spacewalk-repo-sync</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/osa-dispatcher.html">osa-dispatcher</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/jabberd.html">jabberd</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/mgr_check.html">mgr_check</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/plugin-zypp-spacewalk.html">zypp-plugin-spacewalk</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/rhnsd.html">rhnsd</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/osad.html">osad</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt-master.html">salt-master</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt-api.html">salt-api</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt-minion.html">salt-minion</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/salt-broker.html">salt-broker</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../architecture/common_gfdl1.2_i.html">License</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">Uyuni</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Uyuni</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index-uyuni.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
  <a href="../index-uyuni.html" class="home-link"></a>
<nav class="crumbs" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="../index-uyuni.html">Uyuni</a></li>
    <li class="crumb"><a href="intro.html">Administration Guide</a></li>
    <li class="crumb"><a href="backup-restore.html">Backing Up and Restoring</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/SUSE/doc-susemanager/edit/master/modules/administration/pages/backup-restore.adoc">Edit this Page</a></div>
</div>
<article class="doc">
<h1>Backup and Restore</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Back up your Uyuni installation regularly, in order to prevent data loss.
Because Uyuni relies on a database as well as the installed program and configurations, it is important to back up all components of your installation.
This chapter contains information on the files you need to back up, and introduces the <code class="command">smdba</code> tool to manage database backups.
It also contains information about restoring from your backups in the case of a system failure.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="title">Backup Space Requirements</div>
<div class="paragraph">
<p>Regardless of the backup method you use, you must have available at least three times the amount of space your current installation uses.
Running out of space can result in backups failing, so check this often.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_backing_up_uyuni"><a class="anchor" href="#_backing_up_uyuni"></a><a class="link" href="#_backing_up_uyuni">Backing up Uyuni</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The most comprehensive method for backing up your Uyuni installation is to back up the relevant files and directories.
This can save you time in administering your backup, and can be faster to reinstall and re-synchronize in the case of failure.
However, this method requires significant disk space and could take a long time to perform the backup.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you want to only back up the required files and directories, use the following list.
To make this process simpler, and more comprehensive, we recommend backing up the entire <code class="path">/etc</code> and <code class="path">/root</code> directories, not just the ones specified here.
Some files only exist if you are actually using the related SUSE Manager feature.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p><code class="path">/etc/cobbler/</code></p>
</li>
<li>
<p><code class="path">/etc/dhcp.conf</code></p>
</li>
<li>
<p><code class="path">/etc/fstab</code> and any ISO mountpoints you require.</p>
</li>
<li>
<p><code class="path">/etc/rhn/</code></p>
</li>
<li>
<p><code class="path">/etc/salt</code></p>
</li>
<li>
<p><code class="path">/etc/sudoers</code></p>
</li>
<li>
<p><code class="path">/etc/sysconfig/rhn/</code></p>
</li>
<li>
<p><code class="path">/root/.gnupg/</code></p>
</li>
<li>
<p><code class="path">/root/.ssh</code></p>
<div class="paragraph">
<p>This file exists if you are using an SSH tunnel or SSH <code class="command">push</code>.
You will also need to have saved a copy of the <code>id-susemanager</code> key.</p>
</div>
</li>
<li>
<p><code class="path">/root/ssl-build/</code></p>
</li>
<li>
<p><code class="path">/srv/formula_metadata</code></p>
</li>
<li>
<p><code class="path">/srv/pillar</code></p>
</li>
<li>
<p><code class="path">/srv/salt</code></p>
</li>
<li>
<p><code class="path">/srv/susemanager</code></p>
</li>
<li>
<p><code class="path">/srv/tftpboot/</code></p>
</li>
<li>
<p><code class="path">/srv/www/cobbler</code></p>
</li>
<li>
<p><code class="path">/srv/www/htdocs/pub/</code></p>
</li>
<li>
<p><code class="path">/srv/www/os-images</code></p>
</li>
<li>
<p><code class="path">/var/cache/rhn</code></p>
</li>
<li>
<p><code class="path">/var/cache/salt</code></p>
</li>
<li>
<p><code class="path">/var/lib/cobbler/</code></p>
</li>
<li>
<p><code class="path">/var/lib/cobbler/templates/</code> (before version 4.0 it was <code class="path">/var/lib/rhn/kickstarts/</code>)</p>
</li>
<li>
<p><code class="path">/var/lib/Kiwi</code></p>
</li>
<li>
<p><code class="path">/var/lib/rhn/</code></p>
</li>
<li>
<p><code class="path">/var/spacewalk/</code></p>
</li>
<li>
<p>Plus any directories containing custom data such as scripts, Kickstart profiles, AutoYaST, and custom RPMs.</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You will also need to back up your database, which you can do by using the <code class="command">smdba</code> tool, which is explained in <a href="#bp.sect.backup.smdba.admin">Administering the Database with smdba</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Procedure: Restore from a Manual Backup</div>
<ol class="arabic">
<li>
<p>Re-install Uyuni.  For more information, see <a href="#config-smdb.recover-root">Recovering from a Crashed Root Partition</a>.</p>
</li>
<li>
<p>Re-synchronize your Uyuni repositories with the <code class="command">mgr-sync</code> tool.
For more information about the <code class="command">mgr-sync</code> tool, see <a href="#syncing.suse.mgr.repositories.scc">[syncing.suse.mgr.repositories.scc]</a>.</p>
</li>
<li>
<p>You can choose to re-register your product, or skip the registration and SSL certificate generation sections.</p>
</li>
<li>
<p>Re-install the <code class="path">/root/ssl-build/rhn-org-httpd-ssl-key-pair-MACHINE_NAME-VER-REL.noarch.rpm</code> package.</p>
</li>
<li>
<p>Schedule the re-creation of search indexes next time the <code class="command">rhn-search</code> service is started:</p>
<div class="listingblock">
<div class="content">
<pre>rhn-search cleanindex</pre>
</div>
</div>
<div class="paragraph">
<p>This command produces only debug messages.
It does not produce error messages.</p>
</div>
</li>
<li>
<p>If you did not have <code class="path">/var/spacewalk/packages/</code> in your backup, but the source repository still exists, you can restore it by performing a complete channel synchronization with:</p>
<div class="listingblock">
<div class="content">
<pre>mgr-sync refresh --refresh-channels</pre>
</div>
</div>
<div class="paragraph">
<p>You can check the progress by running <code class="command">tail -f /var/log/rhn/reposync/</code>&lt;CHANNEL_NAME&gt;<code>.log</code> as <em>root</em>.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="bp.sect.backup.smdba.admin"><a class="anchor" href="#bp.sect.backup.smdba.admin"></a><a class="link" href="#bp.sect.backup.smdba.admin">Administering the Database with smdba</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code class="command">smdba</code> tool is used for managing a local PostgreSQL database.
It allows you to back up and restore your database, and manage backups.
It can also be used to check the status of your database, and perform administration tasks, such as restarting.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code class="command">smdba</code> tool works with local PostgreSQL databases only, it will not work with remotely accessed databases, or Oracle databases.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code class="command">smdba</code> tool requires <code class="command">sudo</code> access, in order to execute system changes.
Ensure you have enabled <code class="command">sudo</code> access for the <code class="username">admin</code> user before you begin, by checking the <code class="path">/etc/sudoers</code> file for this line:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>admin   ALL=(postgres) /usr/bin/smdba</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Check the runtime status of your database with the <code class="command">smdba db-status</code> command.
This command will return either <code>online</code> or <code>offline</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>smdba db-status
Checking database core...       online</pre>
</div>
</div>
<div class="paragraph">
<p>Starting and stopping the database can be performed with <code class="command">smdba db-start</code> and <code class="command">smdba db-stop</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>smdba db-start
Starting core...       done</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>smdba db-stop
Stopping the SUSE Manager database...
Stopping core:         done</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="bp.sect.backup.smdba.performbackup"><a class="anchor" href="#bp.sect.backup.smdba.performbackup"></a><a class="link" href="#bp.sect.backup.smdba.performbackup">Database Backup with smdba</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code class="command">smdba</code> tool performs a continuous archiving backup.
This backup method combines a log of every change made to the database during the current session, with a series of more traditional backup files.
When a crash occurs, the database state is first restored from the most recent backup file on disk, then the log of the current session is replayed exactly, to bring the database back to a current state.
A continuous archiving backup with <code class="command">smdba</code> is performed with the database running, so there is no need for downtime.</p>
</div>
<div class="paragraph">
<p>This method of backing up is stable and generally creates consistent snapshots, however it can take up a lot of storage space.
Ensure you have at least three times the current database size of space available for backups.
You can check your current database size by navigating to <code class="path">/var/lib/pgsql/</code> and running <code class="command">df -h</code>.</p>
</div>
<div class="paragraph">
<p>The <code class="command">smdba</code> tool also manages your archives, keeping only the most recent backup, and the current archive of logs.
The log files can only be a maximum file size of 16&#160;MB, so a new log file will be created when the files reach this size.
Every time you create a new backup, previous backups will be purged to release disk space.
We recommend you use <code class="command">cron</code> to schedule your <code class="command">smdba</code> backups to ensure that your storage is managed effectively, and you always have a backup ready in case of failure.</p>
</div>
<div class="sect2">
<h3 id="_performing_a_manual_database_backup"><a class="anchor" href="#_performing_a_manual_database_backup"></a><a class="link" href="#_performing_a_manual_database_backup">Performing a Manual Database Backup</a></h3>
<div class="paragraph">
<p>The <code class="command">smdba</code> tool can be run directly from the command line.
We recommend you run a manual database backup immediately after installation, or if you have made any significant changes to your configuration.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When <code class="command">smdba</code> is run for the first time, or if you have changed the location of the backup, it will need to restart your database before performing the archive.
This will result in a small amount of downtime.
Regular database backups will not require any downtime.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Procedure: Performing a Manual Database Backup</div>
<ol class="arabic">
<li>
<p>Allocate permanent storage space for your backup.
This example uses a directory located at <code class="path">/var/spacewalk/</code>.
This will become a permanent target for your backup, so ensure it will remain accessible by your server at all times.</p>
</li>
<li>
<p>In your backup location, create a directory for the backup:</p>
<div class="listingblock">
<div class="content">
<pre>sudo -u postgres mkdir /var/spacewalk/db-backup</pre>
</div>
</div>
<div class="paragraph">
<p>Or, as root:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>install -d -o postgres -g postgres -m 700 /var/spacewalk/db-backup</pre>
</div>
</div>
</li>
<li>
<p>Ensure you have the correct permissions set on the backup location:</p>
<div class="listingblock">
<div class="content">
<pre>chown postgres:postgres /var/spacewalk/db-backup</pre>
</div>
</div>
</li>
<li>
<p>To run a backup for the first time, run the <code class="command">smdba backup-hot</code> command with the <code class="command">enable</code> option set.
This will create the backup in the specified directory, and, if necessary, restart the database:</p>
<div class="listingblock">
<div class="content">
<pre>smdba backup-hot --enable=on --backup-dir=/var/spacewalk/db-backup</pre>
</div>
</div>
<div class="paragraph">
<p>This command produces debug messages and finishes sucessfully with the output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>INFO: Finished</pre>
</div>
</div>
</li>
<li>
<p>Check that the backup files exist in the <code class="path">/var/spacewalk/db-backup</code> directory, to ensure that your backup has been successful.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="smdba.automatic.backup.with.cron"><a class="anchor" href="#smdba.automatic.backup.with.cron"></a><a class="link" href="#smdba.automatic.backup.with.cron">Scheduling Automatic Backups</a></h3>
<div class="paragraph">
<p>You do not need to shut down your system in order to perform a database backup with <code class="command">smdba</code>.
However, because it is a large operation, database performance can slow down while the backup is running.
We recommend you schedule regular database backups for a low-traffic period, to minimize disruption.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Ensure you have at least three times the current database size of space available for backups.
You can check your current database size by navigating to <code class="path">/var/lib/pgsql/</code> and running <code class="command">df -h</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Procedure: Scheduling Automatic Backups</div>
<ol class="arabic">
<li>
<p>Create a directory for the backup, and set the appropriate permissions:</p>
<div class="listingblock">
<div class="content">
<pre># install -m 700 -o postgres -g postgres /var/spacewalk/db-backup</pre>
</div>
</div>
</li>
<li>
<p>Open <code class="path">/etc/cron.d/db-backup-mgr</code>, or create it if it does not exist, and add the following line to create the cron job:</p>
<div class="listingblock">
<div class="content">
<pre>0 2 * * * root /usr/bin/smdba backup-hot --enable=on --backup-dir=/var/spacewalk/db-backup</pre>
</div>
</div>
</li>
<li>
<p>Check the backup directory regularly to ensure the backups are working as expected.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="bp.sect.backup.smdba.restore"><a class="anchor" href="#bp.sect.backup.smdba.restore"></a><a class="link" href="#bp.sect.backup.smdba.restore">Restoring from Backup</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code class="command">smdba</code> tool can be used to restore from backup in the case of failure.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure: Restoring from Backup</div>
<ol class="arabic">
<li>
<p>Shut down the database:</p>
<div class="listingblock">
<div class="content">
<pre>smdba db-stop</pre>
</div>
</div>
</li>
<li>
<p>Start the restore process and wait for it to complete:</p>
<div class="listingblock">
<div class="content">
<pre>smdba backup-restore start</pre>
</div>
</div>
</li>
<li>
<p>Restart the database:</p>
<div class="listingblock">
<div class="content">
<pre>smdba db-start</pre>
</div>
</div>
</li>
<li>
<p>Check if there are differences between the RPMs and the database.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>spacewalk-data-fsck</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="config-smdb.archivelog"><a class="anchor" href="#config-smdb.archivelog"></a><a class="link" href="#config-smdb.archivelog">Archive Log Settings</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>In SUSE Manager with an embedded database, archive logging is enabled by default.
This feature allows the database management tool <code class="command">smdba</code> to perform hot backups.</p>
</div>
<div class="paragraph">
<p>With archive log enabled, even more data is stored on the hard disk:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>PostgreSQL maintains a limited number of archive logs.
Using the default configuration, approximately 64files with a size of 16MiB are stored.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Creating a user and syncing the channels:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SLES12-SP2-Pool-x86_64</p>
</li>
<li>
<p>SLES12-SP2-Updates-x86_64</p>
</li>
<li>
<p>SLE-Manager-Tools12-Pool-x86_64-SP2</p>
</li>
<li>
<p>SLE-Manager-Tools12-Updates-x86_64-SP2</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>PostgreSQL will generate an additional roughly 1GB of data.
So it is important to think about a backup strategy and create a backups in a regular way.</p>
</div>
<div class="paragraph">
<p>Archive logs are stored at <code class="path">/var/lib/pgsql/data/pg_xlog/</code> (postgresql).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="config-smdb.spaces"><a class="anchor" href="#config-smdb.spaces"></a><a class="link" href="#config-smdb.spaces">Retrieving an Overview of Occupied Database Space</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Database administrators may use the subcommand <code class="command">space-overview</code> to get a report about occupied table spaces, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>smdba space-overview
SUSE Manager Database Control. Version 1.5.2
Copyright (c) 2012 by SUSE Linux Products GmbH


Tablespace  | Size (Mb) | Avail (Mb) | Use %
------------+-----------+------------+------
postgres    | 7         | 49168      | 0.013
susemanager | 776       | 48399      | 1.602</pre>
</div>
</div>
<div class="paragraph">
<p>The <code class="command">smdba</code> command is available for PostgreSQL.
For a more detailed report, use the <code class="command">space-tables</code> subcommand.
It lists the table and its size, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>smdba space-tables
SUSE Manager Database Control. Version 1.5.2
Copyright (c) 2012 by SUSE Linux Products GmbH


Table                                 | Size
--------------------------------------+-----------
public.all_primary_keys               | 0 bytes
public.all_tab_columns                | 0 bytes
public.allserverkeywordsincereboot    | 0 bytes
public.dblink_pkey_results            | 0 bytes
public.dual                           | 8192 bytes
public.evr_t                          | 0 bytes
public.log                            | 32 kB
...</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_moving_the_database"><a class="anchor" href="#_moving_the_database"></a><a class="link" href="#_moving_the_database">Moving the Database</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is possible to move the database to another location.
For example if your database storage space is running low.
The following procedure will guide you through moving the database to a new location for use by SUSE Manager.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure: Moving the Database</div>
<ol class="arabic">
<li>
<p>The default storage location for SUSE Manager is <code class="path">/var/lib/pgsql/</code>. If you would like to move it, for example to <code class="path">/storage/postgres/</code>, proceed as follows.</p>
</li>
<li>
<p>Stop the running database with:</p>
<div class="listingblock">
<div class="content">
<pre># rcpostgresql stop</pre>
</div>
</div>
<div class="paragraph">
<p>Shut down the running spacewalk services with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># spacewalk-service stop</pre>
</div>
</div>
</li>
<li>
<p>Copy the current working directory structure with <code class="command">cp</code> using the <code class="option">-a, --archive</code> option.
For example:</p>
<div class="listingblock">
<div class="content">
<pre># cp --archive /var/lib/pgsql/ /storage/postgres/</pre>
</div>
</div>
<div class="paragraph">
<p>This command will copy the contents of <code class="path">/var/lib/pgsql/</code>
to <code class="path">/storage/postgres/pgsql/</code>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The contents of the <code class="path">/var/lib/pgsql</code> directory needs to remain the same, otherwise the SUSE Manager database may malfunction.
You also should ensure there is enough available disk space.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Mount the new database directory with:</p>
<div class="listingblock">
<div class="content">
<pre># mount /storage/postgres/pgsql</pre>
</div>
</div>
</li>
<li>
<p>Make sure ownership is <code>postgres:postgres</code> and not <code>root:root</code> by changing to the new directory and running the following commands:</p>
<div class="listingblock">
<div class="content">
<pre># cd /storage/postgres/pgsql/
# ls -l
total 8
drwxr-x---  4 postgres postgres   47 Jun  2 14:35 ./</pre>
</div>
</div>
</li>
<li>
<p>Add the new database mount location to your servers fstab by editing  <code class="path">etc/fstab</code>.</p>
</li>
<li>
<p>Start the database with:</p>
<div class="listingblock">
<div class="content">
<pre># rcpostgresql start</pre>
</div>
</div>
<div class="paragraph">
<p>Start the spacewalk services with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># spacewalk-service start</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="config-smdb.recover-root"><a class="anchor" href="#config-smdb.recover-root"></a><a class="link" href="#config-smdb.recover-root">Recovering from a Crashed Root Partition</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section provides guidance on restoring your server after its root partition has crashed.
This section assumes you have setup your server similar to the procedure explained in Getting Started guide with separate partitions for the database and for channels mounted at <code class="path">/var/lib/pgsql</code>
 and <code class="path">/var/spacewalk/</code>
.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure: Recovering from a Crashed Root Partition</div>
<ol class="arabic">
<li>
<p>Start by installing SLES12 SP2 and the SUSE Manager Extension. Do not mount the <code class="path">/var/spacewalk</code> and <code class="path">/var/lib/pgsql</code> partitions.</p>
</li>
<li>
<p>Once installation of SUSE Manager has completed shutdown services with <code class="command">spacewalk-service shutdown</code> and the database with <code class="command">rcpostgresql stop</code>.</p>
</li>
<li>
<p>Mount your <code class="path">/var/spacewalk</code> and <code class="path">/var/lib/pgsql</code> partitions and restore the directories listed in section one.</p>
</li>
<li>
<p>Start SUSE Manager services and the database with <code class="command">spacewalk-services start</code> and <code class="command">rcpostgresql start</code></p>
</li>
<li>
<p>SUSE Manager should now operate normally without loss of your database or synced channels.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_database_connection_information"><a class="anchor" href="#_database_connection_information"></a><a class="link" href="#_database_connection_information">Database Connection Information</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The information for connecting to the SUSE Manager database is located in <code class="path">/etc/rhn/rhn.conf</code>
:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>db_backend = postgresql
db_user = susemanager
db_password = susemanager
db_name = susemanager
db_host = localhost
db_port = 5432
db_ssl_enabled =</pre>
</div>
</div>
</div>
</div>
</article>
  </main>
</div>
<!-- <footer class="footer">
</footer> -->
<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js -->
<script>
function focusSearchInput () { document.querySelector('#search-input').focus() }
var search = docsearch({
  appId: 'JTG0JH5IZ8',
  apiKey: '53832c21604e3e7cd2d1062f84b72f22',
  indexName: 'uyuni',
  inputSelector: '#search-input',
  autocompleteOptions: { hint: false, keyboardShortcuts: ['s'] },
  algoliaOptions: { hitsPerPage: 10 }
}).autocomplete;
search.on('autocomplete:closed', function () { search.autocomplete.setVal() });
focusSearchInput();
window.addEventListener('load', focusSearchInput)
</script>
<script src="../../_/js/site.js"></script>
<script src="../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
  </body>
</html>
