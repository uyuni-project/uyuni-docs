# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2020-08-27 01:43+0200\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Title =
#: modules/salt/pages/formulas-custom.adoc:2
#, no-wrap
msgid "Custom Salt Formulas"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:6
msgid ""
"You can also write your own custom formulas, and make them available to your "
"clients in the {productname} {webui}.  This section contains information "
"about writing custom formulas, including formulas with forms."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:8
msgid ""
"For information about the formulas provided by {productname}, see xref:salt:"
"formulas-suma.adoc[]."
msgstr ""

#. type: Title ==
#: modules/salt/pages/formulas-custom.adoc:11
#, no-wrap
msgid "File Structure Overview"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:16
msgid ""
"RPM-based formulas must be placed in a specific directory structure to "
"ensure that they work correctly.  A formula contains two separate "
"directories: [path]``states``, and [path]``metadata``.  Folders in these "
"directories need to have exactly matching names."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:21
msgid ""
"The formula states directory contains anything necessary for a Salt state to "
"work independently.  This includes [path]``.sls`` files, a [path]``map."
"jinja`` file and any other required files.  This directory should only be "
"modified by RPMs and should not be edited manually.  For example, the "
"[package]``locale-formula`` states directory is located in:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:23
#, no-wrap
msgid "/usr/share/salt-formulas/states/locale/\n"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:29
msgid ""
"To create formulas with forms, the metadata directory contains a "
"[path]``form.yml`` file.  The [path]``form.yml`` file defines the forms for "
"{productname}.  The metadata directoy also contains an optional "
"[path]``metadata.yml`` file that contains additional information about a "
"formula.  For example, the [package]``locale-formula`` metadata directory is "
"located in:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:31
#, no-wrap
msgid "/usr/share/susemanager/formulas/metadata/locale/\n"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:35
msgid ""
"If you have a custom formula that is not in an RPM, it must be in a state "
"directory configured as a Salt file root.  Custom state formula data must be "
"in:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:37
#, no-wrap
msgid "/srv/salt/<custom-formula-name>/\n"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:40
msgid "Custom metadata information must be in:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:42
#, no-wrap
msgid "/srv/formula_metadata/<custom-formula-name>/\n"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:46
msgid ""
"All custom folders must contain a [path]``form.yml`` file.  These files are "
"detected as form recipes and are applied to groups and systems from the "
"{webui}:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:48
#, no-wrap
msgid "/srv/formula_metadata/<custom-formula-name>/form.yml\n"
msgstr ""

#. type: delimited block =
#: modules/salt/pages/formulas-custom.adoc:55
msgid ""
"The Salt formula directory changed in {productname}{nbsp}4.0.  The old "
"directory location, [path]``/usr/share/susemanager/formulas``, will continue "
"to work for some time.  You should ensure that you update to the new "
"directory location, [path]``/usr/share/salt-formulas/`` as soon as possible."
msgstr ""

#. type: Title ==
#: modules/salt/pages/formulas-custom.adoc:59
#, no-wrap
msgid "Define Formula with Forms Data"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:63
msgid ""
"{productname} requires a file called [path]``form.yml``, to describe how "
"formula data should look within the {webui}.  The [path]``form.yml`` file is "
"used by {productname} to generate the desired formula with forms, with "
"values editable by a user."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:66
msgid ""
"The file contains a list of editable attributes that start with a `$` sign.  "
"These attributes are used to determine how to display the formula in the "
"{productname} {webui}."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:68
msgid ""
"For example, the [path]``form.yml`` that is included with the "
"[package]``locale-formula`` is in:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:70
#, no-wrap
msgid "/usr/share/susemanager/formulas/metadata/locale/form.yml\n"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:73
msgid "Part of that file looks like this:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:89
#, no-wrap
msgid ""
"# This file is part of locale-formula.\n"
"#\n"
"# Foobar is free software: you can redistribute it and/or modify\n"
"# it under the terms of the GNU General Public License as published by\n"
"# the Free Software Foundation, either version 3 of the License, or\n"
"# (at your option) any later version.\n"
"#\n"
"# Foobar is distributed in the hope that it will be useful,\n"
"# but WITHOUT ANY WARRANTY; without even the implied warranty of\n"
"# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n"
"# GNU General Public License for more details.\n"
"#\n"
"# You should have received a copy of the GNU General Public License\n"
"# along with Foobar.  If not, see <http://www.gnu.org/licenses/>.\n"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:92
#, no-wrap
msgid ""
"timezone:\n"
"  $type: group\n"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:156
#, no-wrap
msgid ""
"  name:\n"
"    $type: select\n"
"    $values: [\"CET\",\n"
"              \"CST6CDT\",\n"
"              \"EET\",\n"
"              \"EST\",\n"
"              \"EST5EDT\",\n"
"              \"GMT\",\n"
"              \"GMT+0\",\n"
"              \"GMT-0\",\n"
"              \"GMT0\",\n"
"              \"Greenwich\",\n"
"              \"HST\",\n"
"              \"MET\",\n"
"              \"MST\",\n"
"              \"MST7MDT\",\n"
"              \"NZ\",\n"
"              \"NZ-CHAT\",\n"
"              \"Navajo\",\n"
"              \"PST8PDT\",\n"
"              \"UCT\",\n"
"              \"UTC\",\n"
"              \"Universal\",\n"
"              \"W-SU\",\n"
"              \"WET\",\n"
"              \"Zulu\",\n"
"              \"Etc/GMT+1\",\n"
"              \"Etc/GMT+2\",\n"
"              \"Etc/GMT+3\",\n"
"              \"Etc/GMT+4\",\n"
"              \"Etc/GMT+5\",\n"
"              \"Etc/GMT+6\",\n"
"              \"Etc/GMT+7\",\n"
"              \"Etc/GMT+8\",\n"
"              \"Etc/GMT+9\",\n"
"              \"Etc/GMT+10\",\n"
"              \"Etc/GMT+11\",\n"
"              \"Etc/GMT+12\",\n"
"              \"Etc/GMT-1\",\n"
"              \"Etc/GMT-2\",\n"
"              \"Etc/GMT-3\",\n"
"              \"Etc/GMT-4\",\n"
"              \"Etc/GMT-5\",\n"
"              \"Etc/GMT-6\",\n"
"              \"Etc/GMT-7\",\n"
"              \"Etc/GMT-8\",\n"
"              \"Etc/GMT-9\",\n"
"              \"Etc/GMT-10\",\n"
"              \"Etc/GMT-11\",\n"
"              \"Etc/GMT-12\",\n"
"              \"Etc/GMT-13\",\n"
"              \"Etc/GMT-14\",\n"
"              \"Etc/GMT\",\n"
"              \"Etc/GMT+0\",\n"
"              \"Etc/GMT-0\",\n"
"              \"Etc/GMT0\",\n"
"              \"Etc/Greenwich\",\n"
"              \"Etc/UCT\",\n"
"              \"Etc/UTC\",\n"
"              \"Etc/Universal\",\n"
"              \"Etc/Zulu\"\n"
"              ]\n"
"    $default: CET\n"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:161
#, no-wrap
msgid ""
"  hardware_clock_set_to_utc:\n"
"    $type: boolean\n"
"    $default: True\n"
"...\n"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:166
msgid ""
"All values that start with a `$` sign are annotations used to display the UI "
"that users interact with.  These annotations are not part of pillar data "
"itself and are handled as metadata."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:169
msgid "This section lists the available attributes:"
msgstr ""

#. type: Labeled list
#: modules/salt/pages/formulas-custom.adoc:170
#, no-wrap
msgid "$type"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:174
msgid ""
"The most important attribute is the `$type` attribute.  It defines the type "
"of the pillar value and the form-field that is generated.  The supported "
"types are:"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:176
msgid "`text`"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:177
msgid "`password`"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:178
msgid "`number`"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:179
msgid "`url`"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:180
msgid "`email`"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:181
msgid "`date`"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:182
msgid "`time`"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:183
msgid "`datetime`"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:184
msgid "`boolean`"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:185
msgid "`color`"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:186
msgid "`select`"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:187
msgid "`group`"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:188
msgid "`edit-group`"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:189
msgid "`namespace`"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:190
msgid "`hidden-group` (obsolete, renamed to ``namespace``)"
msgstr ""

#. type: delimited block =
#: modules/salt/pages/formulas-custom.adoc:195
msgid ""
"The text attribute is the default and does not need to be specified "
"explicitly."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:199
msgid "Many of these values are self-explanatory:"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:201
msgid "The `text` type generates a simple text field"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:202
msgid "The `password` type generates a password field"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:203
msgid "The `color` type generates a color picker"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:206
msgid ""
"The ``group``, ``edit-group``, and `namespace` (formerly ``hidden-group``) "
"types do not generate an editable field and are used to structure form and "
"pillar data.  All these types support nesting."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:210
msgid ""
"The `group` and `namespace` types differ slightly.  The `group` type "
"generates a visible border with a heading.  The `namespace` type shows "
"nothing visually, and is only used to structure pillar data."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:214
msgid ""
"The `edit-group` type allows you to structure and restrict editable fields "
"in a more flexible way.  The `edit-group` type is a collection of items of "
"the same kind.  Collections can have these four shapes:"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:216
msgid "List of primitive items"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:217
msgid "List of dictionaries"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:218
msgid "Dictionary of primitive items"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:219
msgid "Dictionary of dictionaries"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:222
msgid ""
"The size of each collection is variable.  Users can add or remove elements."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:225
msgid ""
"For example, `edit-group` supports the `$minItems` and `$maxItems` "
"attributes, which simplifies complex and repeatable input structures.  "
"These, and also `itemName`, are optional."
msgstr ""

#. type: Labeled list
#: modules/salt/pages/formulas-custom.adoc:227
#, no-wrap
msgid "$default"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:231
msgid ""
"Allows you to specify a default value to be displayed.  This default value "
"will be used if no other value is entered.  In an `edit-group` it allows you "
"to create initial members of the group and populate them with specified data."
msgstr ""

#. type: Labeled list
#: modules/salt/pages/formulas-custom.adoc:232
#, no-wrap
msgid "$optional"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:236
msgid ""
"This type is a Boolean attribute.  If it is `true` and the field is empty in "
"the form, then this field will not be generated in the formula data and the "
"generated dictionary will not contain the field name key.  If it is `false` "
"and the field is empty, the formula data will contain a `<field name>: null` "
"entry."
msgstr ""

#. type: Labeled list
#: modules/salt/pages/formulas-custom.adoc:237
#, no-wrap
msgid "$ifEmpty"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:243
msgid ""
"This type is used if the field is empty.  This usually occurs because the "
"user did not provide a value.  The `ifEmpty` type can only be used when `"
"$optional` is `false` or not defined.  If `$optional` is `true`, then `"
"$ifEmpty` is ignored.  In this example, the `DP2` string would be used if "
"the user leaves the field empty:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:248
#, no-wrap
msgid ""
"displayName:\n"
"  $type: string\n"
"  $ifEmpty: DP2\n"
msgstr ""

#. type: Labeled list
#: modules/salt/pages/formulas-custom.adoc:250
#, no-wrap
msgid "$name"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:254
msgid ""
"Allows you to specify the name of a value that is shown in the form.  If "
"this value is not set, the pillar name is used and capitalized without "
"underscores and dashes.  Reference it in the same section with ``pass:"
"c[${name}]``."
msgstr ""

#. type: Labeled list
#: modules/salt/pages/formulas-custom.adoc:255
#, no-wrap
msgid "$help and $placeholder"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:259
msgid ""
"These attributes are used to give a user a better understanding of what the "
"value should be.  The `$help` type defines the message a user sees when "
"hovering over a field The `$placeholder` type displays a gray placeholder "
"text in the field"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:262
msgid ""
"Use `$placeholder` only with text fields like text, password, email or date "
"fields.  Do not add a placeholder if you also use `$default`, as it will "
"hide the placeholder."
msgstr ""

#. type: Labeled list
#: modules/salt/pages/formulas-custom.adoc:263
#, no-wrap
msgid "$key"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:266
msgid ""
"Applicable only if the `edit-group` has the shape of a dictionary.  When the "
"pillar data is a dictionary, the `$key` attribute determines the key of an "
"entry in the dictionary."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:268
msgid "For example:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:280
#, no-wrap
msgid ""
"user_passwords:\n"
"  $type: edit-group\n"
"  $minItems: 1\n"
"  $prototype:\n"
"    $key:\n"
"        $type: text\n"
"    $type: text\n"
"  $default:\n"
"    alice: secret-password\n"
"    bob: you-shall-not-pass\n"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:283
msgid "Pillar:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:290
#, no-wrap
msgid ""
"user_passwords:\n"
"  alice:\n"
"    secret-password\n"
"  bob:\n"
"    you-shall-not-pass\n"
msgstr ""

#. type: Labeled list
#: modules/salt/pages/formulas-custom.adoc:292
#, no-wrap
msgid "$minItems and $maxItems"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:294
msgid ""
"In an ``edit-group``, `$minItems` and `$maxItems` specifies the lowest and "
"highest numbers for the group."
msgstr ""

#. type: Labeled list
#: modules/salt/pages/formulas-custom.adoc:295
#, no-wrap
msgid "$itemName"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:297
msgid ""
"In an ``edit-group``, `$itemName` defines a template for the name to be used "
"for the members of the group."
msgstr ""

#. type: Labeled list
#: modules/salt/pages/formulas-custom.adoc:298
#, no-wrap
msgid "$prototype"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:300
msgid ""
"In an ``edit-group``, `$prototype` is mandatory and defines the default pre-"
"filled values for newly added members in the group."
msgstr ""

#. type: Labeled list
#: modules/salt/pages/formulas-custom.adoc:301
#, no-wrap
msgid "$scope"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:304
msgid ""
"Specifies a hierarchy level at which a value may be edited.  Possible values "
"are ``system``, `group`, and ``readonly``."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:307
msgid ""
"The default value is `$scope: system`, allows values to be edited at group "
"and system levels.  A value can be entered for each system but if no value "
"is entered the system will fall back to the group default."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:310
msgid ""
"The ``$scope: group`` option makes a value editable only for a group.  On "
"the system level you will be able to see the value, but not edit it."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:314
msgid ""
"The `$scope: readonly` option makes a field read-only.  It can be used to "
"show data to the user, but will not allow them to edit it.  This option "
"should be used in combination with the ``$default`` attribute."
msgstr ""

#. type: Labeled list
#: modules/salt/pages/formulas-custom.adoc:315
#, no-wrap
msgid "$visibleIf"
msgstr ""

#. type: delimited block =
#: modules/salt/pages/formulas-custom.adoc:320
msgid "Deprecated in favor of `$visible`."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:324
msgid ""
"Allows you to show a field or group if a simple condition is met.  An "
"example condition is:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:327
#, no-wrap
msgid "some_group#another_group#my_checkbox == true\n"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:332
msgid ""
"The left part of the condition is the path to another value, and groups are "
"separated by `$` signs.  The middle section of the condition should be "
"either `==` for a value to be equal or `!=` for values that should be not "
"equal.  The last field in the statement can be any value which a field "
"should have or not have."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:337
msgid ""
"The field with this attribute associated with it will be shown only when the "
"condition is met.  In this example the field will be shown only if "
"`my_checkbox` is checked.  The ability to use conditional statements is not "
"limited to check boxes.  It may also be used to check values of select-"
"fields, text-fields, and similar."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:339
msgid "A check box should be structured like this:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:343
#: modules/salt/pages/formulas-custom.adoc:358
#: modules/salt/pages/formulas-custom.adoc:427
#: modules/salt/pages/formulas-custom.adoc:500
#: modules/salt/pages/formulas-custom.adoc:525
#, no-wrap
msgid ""
"some_group:\n"
"  $type: group\n"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:346
#: modules/salt/pages/formulas-custom.adoc:361
#: modules/salt/pages/formulas-custom.adoc:430
#: modules/salt/pages/formulas-custom.adoc:503
#: modules/salt/pages/formulas-custom.adoc:528
#, no-wrap
msgid ""
"  another_group:\n"
"    $type: group\n"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:349
#: modules/salt/pages/formulas-custom.adoc:433
#: modules/salt/pages/formulas-custom.adoc:506
#, no-wrap
msgid ""
"      my_checkbox:\n"
"        $type: boolean\n"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:354
msgid ""
"Relative paths can be specified using prefix dots.  One dot indicates a "
"sibling, two dots indicate a parent, and so on.  This is mostly useful for "
"``edit-group``."
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:364
#: modules/salt/pages/formulas-custom.adoc:531
#, no-wrap
msgid ""
"    my_checkbox:\n"
"      $type: boolean\n"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:367
#, no-wrap
msgid ""
"    my_text:\n"
"      $visibleIf: .my_checkbox\n"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:370
#: modules/salt/pages/formulas-custom.adoc:537
#, no-wrap
msgid ""
"  yet_another_group:\n"
"    $type: group\n"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:373
#, no-wrap
msgid ""
"    my_text2:\n"
"      $visibleIf: ..another_group#my_checkbox\n"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:377
msgid ""
"If you use multiple groups with the attribute, you can allow a users to "
"select an option and show a completely different form, dependent upon the "
"selected value."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:381
#: modules/salt/pages/formulas-custom.adoc:452
msgid ""
"Values from hidden fields can be merged into the pillar data and sent to the "
"client.  A formula must check the condition again and use the appropriate "
"data.  For example:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:387
#, no-wrap
msgid ""
"show_option:\n"
"  $type: checkbox\n"
"some_text:\n"
"  $visibleIf: show_option == true\n"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:394
#: modules/salt/pages/formulas-custom.adoc:465
#, no-wrap
msgid ""
"{% if pillar.show_option %}\n"
"do_something:\n"
"  with: {{ pillar.some_text }}\n"
"{% endif %}\n"
msgstr ""

#. type: Labeled list
#: modules/salt/pages/formulas-custom.adoc:396
#, no-wrap
msgid "$values"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:401
msgid ""
"Can only be used together with ``$type`` Use to specify the different "
"options in the select-field.  `$values` must be a list of possible values to "
"select.  For example:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:406
#, no-wrap
msgid ""
"select_something:\n"
"  $type: select\n"
"  $values: [\"option1\", \"option2\"]\n"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:409
msgid "Or:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:416
#, no-wrap
msgid ""
"select_something:\n"
"  $type: select\n"
"  $values:\n"
"    - option1\n"
"    - option2\n"
msgstr ""

#. type: Labeled list
#: modules/salt/pages/formulas-custom.adoc:418
#, no-wrap
msgid "$visible"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:421
msgid ""
"Allows you to show a field or group if a condition is met.  You must use the "
"https://github.com/TomFrost/jexl[jexl] expression language to write the "
"condition."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:423
msgid "Example structure:"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:436
#: modules/salt/pages/formulas-custom.adoc:509
msgid "An example condition is:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:439
#: modules/salt/pages/formulas-custom.adoc:512
#, no-wrap
msgid "formValues.some_group.another_group.my_checkbox == true\n"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:444
msgid ""
"The field with this attribute will only show if the condition is met.  In "
"this example, the field will show only if ``my_checkbox`` is checked.  You "
"can also choose other elements for the conditional statement, such as select "
"fields or text fields."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:448
msgid ""
"If you use multiple groups with the attribute, users can select an option "
"that will show a completely different form, depending on the selected value."
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:458
#, no-wrap
msgid ""
"show_option:\n"
"  $type: checkbox\n"
"some_text:\n"
"  $visible: this.parent.value.show_option == true\n"
msgstr ""

#. type: Labeled list
#: modules/salt/pages/formulas-custom.adoc:467
#, no-wrap
msgid "$disabled"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:469
msgid ""
"Allows you to disable a field or group if a condition is met. You must use "
"the https://github.com/TomFrost/jexl[jexl] expression language to write the "
"condition."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:471
msgid "If specified at group level it will disable all fields in that group."
msgstr ""

#. type: Labeled list
#: modules/salt/pages/formulas-custom.adoc:472
#, no-wrap
msgid "$required"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:474
msgid ""
"Fields with this attribute are mandatory. Supports using the https://github."
"com/TomFrost/jexl[jexl] expresion language."
msgstr ""

#. type: Labeled list
#: modules/salt/pages/formulas-custom.adoc:475
#, no-wrap
msgid "$match"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:477
msgid ""
"Allows using a regular expression to validate the content of a text field."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:479
msgid "It supports the regular expression features existing in JavaScript."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:481
msgid "Example:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:489
#, no-wrap
msgid ""
"      hardware:\n"
"        $type: text\n"
"        $name: Hardware Type and Address\n"
"        $placeholder: Enter hardware-type hardware-address (e.g. \"ethernet AA:BB:CC:DD:EE:FF\")\n"
"        $help: Hardware Identifier - prefix is mandatory\n"
"        $match: \"\\\\w+ [A-Z]{2}:[A-Z]{2}:[A-Z]{2}:[A-Z]{2}:[A-Z]{2}:[A-Z]{2}\"\n"
msgstr ""

#. type: Title ===
#: modules/salt/pages/formulas-custom.adoc:492
#, no-wrap
msgid "Expression language"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:494
msgid ""
"You must use the https://github.com/TomFrost/jexl[jexl] expression language "
"to write conditions."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:496
msgid "Given a structure like this:"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:515
msgid "Absolute paths must begin with ``formValues``."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:517
msgid ""
"Specify relative paths using ``this.parent.value`` to define the value of "
"the parent."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:520
msgid ""
"You can also refer to the parent of the parent, with ``this.parent.parent."
"value``.  This is mostly useful for ``edit-group`` elements."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:522
msgid "Example for relative paths:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:534
#, no-wrap
msgid ""
"    my_text:\n"
"      $visible: this.parent.value.my_checkbox\n"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:540
#, no-wrap
msgid ""
"    my_text2:\n"
"      $visible: this.parent.parent.value.another_group.my_checkbox\n"
msgstr ""

#. type: Block title
#: modules/salt/pages/formulas-custom.adoc:543
#, no-wrap
msgid "Example: Basic edit-group"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:565
#, no-wrap
msgid ""
"partitions:\n"
"  $name: \"Hard Disk Partitions\"\n"
"  $type: \"edit-group\"\n"
"  $minItems: 1\n"
"  $maxItems: 4\n"
"  $itemName: \"Partition ${name}\"\n"
"  $prototype:\n"
"    name:\n"
"      $default: \"New partition\"\n"
"    mountpoint:\n"
"      $default: \"/var\"\n"
"    size:\n"
"      $type: \"number\"\n"
"      $name: \"Size in GB\"\n"
"  $default:\n"
"    - name: \"Boot\"\n"
"      mountpoint: \"/boot\"\n"
"    - name: \"Root\"\n"
"      mountpoint: \"/\"\n"
"      size: 5000\n"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:568
msgid "Click btn:[Add] to fill the form with the default values."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:570
msgid ""
"The formula is called [path]``hd-partitions`` and will appear as "
"[guimenu]``Hd Partitions`` in the {webui}."
msgstr ""

#. type: Target for macro image
#: modules/salt/pages/formulas-custom.adoc:571
#, no-wrap
msgid "formula-custom-harddisk-partitions.png"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:574
msgid ""
"To remove the definition of a partition click the minus symbol in the title "
"line of an inner group."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:576
msgid "When you are finished, click btn:[Save Formula]."
msgstr ""

#. type: Block title
#: modules/salt/pages/formulas-custom.adoc:578
#, no-wrap
msgid "Example: Nested edit-group"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:604
#, no-wrap
msgid ""
"users:\n"
"  $name: \"Users\"\n"
"  $type: edit-group\n"
"  $minItems: 2\n"
"  $maxItems: 5\n"
"  $prototype:\n"
"    name:\n"
"      $default: \"username\"\n"
"    password:\n"
"      $type: password\n"
"    groups:\n"
"      $type: edit-group\n"
"      $minItems: 1\n"
"      $prototype:\n"
"        group_name:\n"
"          $type: text\n"
"  $default:\n"
"    - name: \"root\"\n"
"      groups:\n"
"        - group_name: \"users\"\n"
"        - group_name: \"admins\"\n"
"    - name: \"admin\"\n"
"      groups:\n"
"        - group_name: \"users\"\n"
msgstr ""

#. type: Title ==
#: modules/salt/pages/formulas-custom.adoc:608
#, no-wrap
msgid "Writing Salt Formulas"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:612
msgid ""
"Salt formulas are pre-written Salt states.  You can use Jinja to configure "
"formulas with pillar data."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:614
msgid "Basic Jinja syntax is:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:616
#, no-wrap
msgid "pillar.some.value\n"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:619
msgid "When you are sure a pillar exists, use this syntax:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:621
#, no-wrap
msgid "salt['pillar.get']('some:value', 'default value')\n"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:625
msgid ""
"You can also replace the `pillar` value with `grains`.  For example, "
"``grains.some.value``."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:628
msgid ""
"Using data this way makes the formula configurable.  In this example, a "
"specified package is installed in the ``package_name`` pillar:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:632
#, no-wrap
msgid ""
"install_a_package:\n"
"  pkg.installed:\n"
"    - name: {{ pillar.package_name }}\n"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:635
msgid ""
"You can also use more complex constructs such as `if/else` and `for-loops` "
"to provide greater functionality:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:643
#, no-wrap
msgid ""
"{% if pillar.installSomething %}\n"
"something:\n"
"  pkg.installed\n"
"{% else %}\n"
"anotherPackage:\n"
"  pkg.installed\n"
"{% endif %}\n"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:646
msgid "Another example:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:652
#, no-wrap
msgid ""
"{% for service in pillar.services %}\n"
"start_{{ service }}:\n"
"  service.running:\n"
"    - name: {{ service }}\n"
"{% endfor %}\n"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:656
msgid ""
"Jinja also provides other helpful functions.  For example, you can iterate "
"over a dictionary:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:660
#, no-wrap
msgid ""
"{% for key, value in some_dictionary.items() %}\n"
"do_something_with_{{ key }}: {{ value }}\n"
"{% endfor %}\n"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:663
msgid ""
"You can have Salt manage your files (for example, configuration files for a "
"program), and change them with pillar data."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:665
msgid ""
"In this example, Salt copies the file [path]``salt-file_roots/my_state/files/"
"my_program.conf`` on the server to [path]``/etc/my_program/my_program.conf`` "
"on the client and template it with Jinja:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:670
#, no-wrap
msgid ""
"/etc/my_program/my_program.conf:\n"
"  file.managed:\n"
"    - source: salt://my_state/files/my_program.conf\n"
"    - template: jinja\n"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:673
msgid ""
"This example allows you to use Jinja in the file, like the previous example "
"for states:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:675
#, no-wrap
msgid "some_config_option = {{ pillar.config_option_a }}\n"
msgstr ""

#. type: Title ==
#: modules/salt/pages/formulas-custom.adoc:678
#, no-wrap
msgid "Separate Data"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:683
msgid ""
"Separating data from a state can increase flexibility and make it easier to "
"re-use.  You can do this by writing values into a separate file named "
"[path]``map.jinja``.  This file must be within the same directory as the "
"state files."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:686
msgid ""
"This example sets `data` to a dictionary with different values, depending on "
"which system the state runs on.  It will also merge data with the pillar "
"using the `some.pillar.data` value so you can access `some.pillar.data."
"value` by using ``data.value``."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:689
msgid ""
"You can choose to override defined values from pillars.  For example, by "
"overriding `some.pillar.data.package` in this example:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:700
#, no-wrap
msgid ""
"{% set data = salt['grains.filter_by']({\n"
"    'Suse': {\n"
"        'package': 'packageA',\n"
"        'service': 'serviceA'\n"
"    },\n"
"    'RedHat': {\n"
"        'package': 'package_a',\n"
"        'service': 'service_a'\n"
"    }\n"
"}, merge=salt['pillar.get']('some:pillar:data')) %}\n"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:703
msgid ""
"When you have created a map file, you can maintain compatibility with "
"multiple system types while accessing deep pillar data in a simpler way."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:706
msgid "Now you can import and use `data` in any file.  For example:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:708
#, no-wrap
msgid "{% from \"some_folder/map.jinja\" import data with context %}\n"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:712
#, no-wrap
msgid ""
"install_package_a:\n"
"  pkg.installed:\n"
"    - name: {{ data.package }}\n"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:716
msgid ""
"You can define multiple variables by copying the `{% set ...%}` statement "
"with different values and then merge it with other pillars.  For example:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:727
#, no-wrap
msgid ""
"{% set server = salt['grains.filter_by']({\n"
"    'Suse': {\n"
"        'package': 'my-server-pkg'\n"
"    }\n"
"}, merge=salt['pillar.get']('myFormula:server')) %}\n"
"{% set client = salt['grains.filter_by']({\n"
"    'Suse': {\n"
"        'package': 'my-client-pkg'\n"
"    }\n"
"}, merge=salt['pillar.get']('myFormula:client')) %}\n"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:731
msgid "To import multiple variables, separate them with a comma.  For example:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:733
#, no-wrap
msgid "{% from \"map.jinja\" import server, client with context %}\n"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:736
msgid ""
"For more information about conventions to use when writing formulas, see "
"https://docs.saltstack.com/en/latest/topics/development/conventions/formulas."
"html."
msgstr ""

#. type: Title ==
#: modules/salt/pages/formulas-custom.adoc:739
#, no-wrap
msgid "Generated Pillar Data"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:743
msgid ""
"Pillar data is generated by {productname} when events occur like generating "
"the highstate.  You can use an external pillar script to generate pillar "
"data for packages and group IDs, and include all pillar data for a system:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:745
#, no-wrap
msgid "/usr/share/susemanager/modules/pillar/suma_minion.py\n"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:748
msgid "The process is executed like this:"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:750
msgid ""
"The `suma_minion.py` script starts and finds all formulas for a system by "
"checking the `group_formulas.json` and `server_formulas.json` files."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:752
msgid ""
"The script loads the values for each formula (groups and from the system) "
"and merges them with the highstate.  By default, if no values are found, a "
"group overrides a system if `$scope: group`."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:753
msgid ""
"The script also includes a list of formulas applied to the system in a "
"pillar named ``formulas``."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:759
msgid ""
"This structure makes it possible to include states.  In this example, the "
"top file is specifically generated by the `mgr_master_tops.py` script.  The "
"top file includes a state called ``formulas`` for each system.  This "
"includes the `formulas.sls` file located in [path]``/usr/share/susemanager/"
"formulas/states`` or [path]``/usr/share/salt-formulas/states/``.  The "
"content looks similar to this:"
msgstr ""

#. type: delimited block -
#: modules/salt/pages/formulas-custom.adoc:761
#, no-wrap
msgid "include: {{ pillar[\"formulas\"] }}\n"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:764
msgid ""
"This pillar includes all formulas that are specified in the pillar data "
"generated from the external pillar script."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:768
msgid ""
"Formulas should be created directly after a {productname} installation.  If "
"you encounter any problems with formulas check these things first:"
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:770
msgid ""
"The external pillar script (``suma_minion.py``) must include formula data."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:772
msgid ""
"Data is saved to [path]``/srv/susemanager/formula_data`` and the "
"[path]``pillar`` and [path]``group_pillar`` sub-directories.  These "
"directories should be automatically generated by the server."
msgstr ""

#. type: Plain text
#: modules/salt/pages/formulas-custom.adoc:775
msgid ""
"Formulas must be included for every client listed in the top file.  "
"Currently this process is initiated by the [path]``mgr_master_tops.py`` "
"script which includes the `formulas.sls` file located in [path]``/usr/share/"
"susemanager/formulas/states/`` or [path]``/usr/share/salt-formulas/states/"
"``.  This directory must be a salt file root.  File roots are configured on "
"the salt-master ({productname}) located at [path]``/etc/salt/master.d/"
"susemanager.conf``."
msgstr ""
