# tasks/Taskfile.config.yml
# Configuration and setup tasks
# yaml-language-server: $schema=https://taskfile.dev/schema.json

version: '3'

tasks:
  # ==============================================================================
  # CONFIGURATION TASKS
  # ==============================================================================
  
  uyuni:
    desc: Configure for Uyuni builds
    summary: |
      Configures the build system for Uyuni documentation.
      Sets up necessary files and validates configuration.
      
      Example:
        task config:uyuni
    cmds:
      - python3 scripts/setup.py uyuni
    sources:
      - parameters.yml
    generates:
      - .build/uyuni.configured
    
  mlm:
    desc: Configure for SUSE Multi-Linux Manager builds
    summary: |
      Configures the build system for MLM documentation.
      Sets up necessary files and validates configuration.
      
      Example:
        task config:mlm
    cmds:
      - python3 scripts/setup.py mlm
    sources:
      - parameters.yml
    generates:
      - .build/mlm.configured

  # Internal helper to configure based on PRODUCT variable
  auto:
    internal: true
    desc: Auto-configure based on PRODUCT variable
    cmds:
      - task: '{{.PRODUCT}}'
