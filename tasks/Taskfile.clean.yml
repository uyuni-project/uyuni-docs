# tasks/Taskfile.clean.yml
# Cleanup tasks
# yaml-language-server: $schema=https://taskfile.dev/schema.json

version: '3'

tasks:
  # ==============================================================================
  # CLEANUP TASKS
  # ==============================================================================
  
  build:
    desc: Remove build artifacts for a language
    summary: |
      Cleans build artifacts for specified language.
      
      Variables:
        LANG=en|ja|ko|zh_CN  (default: en)
      
      Examples:
        task clean:build
        task clean:build LANG=ja
    cmds:
      - rm -rf build/{{.LANG}}
      - rm -rf translations/{{.LANG}}
      - find . -name "*pdf.{{.LANG}}.adoc" -type f -delete

  all:
    desc: Remove ALL build artifacts
    summary: |
      Removes all build outputs and generated files.
      
      Examples:
        task clean:all
    cmds:
      - rm -rf build/
      - rm -rf translations/
      - find . -name "*pdf.*.adoc" -type f -delete

  branding:
    desc: Remove branding files
    summary: |
      Removes copied/generated branding files.
      
      Examples:
        task clean:branding
    cmds:
      - rm -rf branding/supplemental-ui/*/generated/

  cache:
    desc: Clean Task's cache
    summary: |
      Removes Task's internal cache of file checksums.
      Use this if builds aren't detecting changes properly.
      
      Examples:
        task clean:cache
    cmds:
      - rm -rf .task/
